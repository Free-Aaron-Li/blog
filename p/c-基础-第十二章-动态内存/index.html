<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="Á¨¨ÂçÅ‰∫åÁ´† Âä®ÊÄÅÂÜÖÂ≠ò ÂâçË®Ä Âú®Ê≠§‰πãÂâçÔºåÊàë‰ª¨‰ΩøÁî®ÁöÑÁ®ãÂ∫è‰∏≠ÂØπË±°ÈÉΩÊúâÁùÄ‰∏•Ê†ºÂÆö‰πâÁöÑÁîüÂ≠òÊúüÔºö\nÂÖ®Â±ÄÂØπË±°ÔºåÂú®Á®ãÂ∫èÂêØÂä®Êó∂ÂàÜÈÖçÔºåÂú®Á®ãÂ∫èÁªìÊùüÊó∂ÈîÄÊØÅ„ÄÇ Â±ÄÈÉ®Ëá™Âä®ÂØπË±°ÔºåÂΩìËøõÂÖ•ÂÆö‰πâÊâÄÂú®Á®ãÂ∫èÊó∂ÂàõÂª∫ÔºåÂú®Á¶ªÂºÄÂùóÊó∂ÈîÄÊØÅ„ÄÇ Â±ÄÈÉ®staticÂØπË±°ÔºåÂú®Á¨¨‰∏ÄÊ¨°‰ΩøÁî®ÂâçÂàÜÈÖçÔºåÂú®Á®ãÂ∫èÁªìÊùüÊó∂ÈîÄÊØÅ„ÄÇ ÊòæÁÑ∂ËøôÂ≠òÂú®ÈôêÂà∂Ôºå‰∏∫Ê≠§C++ÊîØÊåÅÂä®ÊÄÅÂàÜÈÖçÂØπË±°„ÄÇÂä®ÊÄÅÂàÜÈÖçÂØπË±°ÁöÑÁîüÂ≠òÊúü‰∏éÂÆÉ‰ª¨Âú®Âì™ÈáåÂàõÂª∫Êó†ÂÖ≥ÔºåÂè™ÊúâÂΩìÊòæÂºèÂú∞Ë¢´ÈáäÊîæÊó∂ÔºåËøô‰∫õÂØπË±°Êâç‰ºöË¢´ÈîÄÊØÅ„ÄÇ\n">
<title>C&#43;&#43; Âü∫Á°ÄÔºö Á¨¨ÂçÅ‰∫åÁ´† Âä®ÊÄÅÂÜÖÂ≠ò</title>

<link rel='canonical' href='https://Free-Aaron-Li.github.io/p/c-%E5%9F%BA%E7%A1%80-%E7%AC%AC%E5%8D%81%E4%BA%8C%E7%AB%A0-%E5%8A%A8%E6%80%81%E5%86%85%E5%AD%98/'>

<link rel="stylesheet" href="/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css"><meta property='og:title' content="C++ Âü∫Á°ÄÔºö Á¨¨ÂçÅ‰∫åÁ´† Âä®ÊÄÅÂÜÖÂ≠ò">
<meta property='og:description' content="Á¨¨ÂçÅ‰∫åÁ´† Âä®ÊÄÅÂÜÖÂ≠ò ÂâçË®Ä Âú®Ê≠§‰πãÂâçÔºåÊàë‰ª¨‰ΩøÁî®ÁöÑÁ®ãÂ∫è‰∏≠ÂØπË±°ÈÉΩÊúâÁùÄ‰∏•Ê†ºÂÆö‰πâÁöÑÁîüÂ≠òÊúüÔºö\nÂÖ®Â±ÄÂØπË±°ÔºåÂú®Á®ãÂ∫èÂêØÂä®Êó∂ÂàÜÈÖçÔºåÂú®Á®ãÂ∫èÁªìÊùüÊó∂ÈîÄÊØÅ„ÄÇ Â±ÄÈÉ®Ëá™Âä®ÂØπË±°ÔºåÂΩìËøõÂÖ•ÂÆö‰πâÊâÄÂú®Á®ãÂ∫èÊó∂ÂàõÂª∫ÔºåÂú®Á¶ªÂºÄÂùóÊó∂ÈîÄÊØÅ„ÄÇ Â±ÄÈÉ®staticÂØπË±°ÔºåÂú®Á¨¨‰∏ÄÊ¨°‰ΩøÁî®ÂâçÂàÜÈÖçÔºåÂú®Á®ãÂ∫èÁªìÊùüÊó∂ÈîÄÊØÅ„ÄÇ ÊòæÁÑ∂ËøôÂ≠òÂú®ÈôêÂà∂Ôºå‰∏∫Ê≠§C++ÊîØÊåÅÂä®ÊÄÅÂàÜÈÖçÂØπË±°„ÄÇÂä®ÊÄÅÂàÜÈÖçÂØπË±°ÁöÑÁîüÂ≠òÊúü‰∏éÂÆÉ‰ª¨Âú®Âì™ÈáåÂàõÂª∫Êó†ÂÖ≥ÔºåÂè™ÊúâÂΩìÊòæÂºèÂú∞Ë¢´ÈáäÊîæÊó∂ÔºåËøô‰∫õÂØπË±°Êâç‰ºöË¢´ÈîÄÊØÅ„ÄÇ\n">
<meta property='og:url' content='https://Free-Aaron-Li.github.io/p/c-%E5%9F%BA%E7%A1%80-%E7%AC%AC%E5%8D%81%E4%BA%8C%E7%AB%A0-%E5%8A%A8%E6%80%81%E5%86%85%E5%AD%98/'>
<meta property='og:site_name' content='‰∫ö‰º¶ÁöÑÂçöÂÆ¢'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='C&#43;&#43;' /><meta property='article:published_time' content='2025-04-06T00:00:00&#43;00:00'/><meta property='article:modified_time' content='2025-04-06T00:00:00&#43;00:00'/><meta property='og:image' content='https://s3.bmp.ovh/imgs/2024/11/23/f8eb19dce3c8aec6.jpg' />
<meta name="twitter:title" content="C++ Âü∫Á°ÄÔºö Á¨¨ÂçÅ‰∫åÁ´† Âä®ÊÄÅÂÜÖÂ≠ò">
<meta name="twitter:description" content="Á¨¨ÂçÅ‰∫åÁ´† Âä®ÊÄÅÂÜÖÂ≠ò ÂâçË®Ä Âú®Ê≠§‰πãÂâçÔºåÊàë‰ª¨‰ΩøÁî®ÁöÑÁ®ãÂ∫è‰∏≠ÂØπË±°ÈÉΩÊúâÁùÄ‰∏•Ê†ºÂÆö‰πâÁöÑÁîüÂ≠òÊúüÔºö\nÂÖ®Â±ÄÂØπË±°ÔºåÂú®Á®ãÂ∫èÂêØÂä®Êó∂ÂàÜÈÖçÔºåÂú®Á®ãÂ∫èÁªìÊùüÊó∂ÈîÄÊØÅ„ÄÇ Â±ÄÈÉ®Ëá™Âä®ÂØπË±°ÔºåÂΩìËøõÂÖ•ÂÆö‰πâÊâÄÂú®Á®ãÂ∫èÊó∂ÂàõÂª∫ÔºåÂú®Á¶ªÂºÄÂùóÊó∂ÈîÄÊØÅ„ÄÇ Â±ÄÈÉ®staticÂØπË±°ÔºåÂú®Á¨¨‰∏ÄÊ¨°‰ΩøÁî®ÂâçÂàÜÈÖçÔºåÂú®Á®ãÂ∫èÁªìÊùüÊó∂ÈîÄÊØÅ„ÄÇ ÊòæÁÑ∂ËøôÂ≠òÂú®ÈôêÂà∂Ôºå‰∏∫Ê≠§C++ÊîØÊåÅÂä®ÊÄÅÂàÜÈÖçÂØπË±°„ÄÇÂä®ÊÄÅÂàÜÈÖçÂØπË±°ÁöÑÁîüÂ≠òÊúü‰∏éÂÆÉ‰ª¨Âú®Âì™ÈáåÂàõÂª∫Êó†ÂÖ≥ÔºåÂè™ÊúâÂΩìÊòæÂºèÂú∞Ë¢´ÈáäÊîæÊó∂ÔºåËøô‰∫õÂØπË±°Êâç‰ºöË¢´ÈîÄÊØÅ„ÄÇ\n"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://s3.bmp.ovh/imgs/2024/11/23/f8eb19dce3c8aec6.jpg' />
    <link rel="shortcut icon" href="/favicon.ico" />

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="ÂàáÊç¢ËèúÂçï">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hu_d0557925549c907f.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">üòÅ</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">‰∫ö‰º¶ÁöÑÂçöÂÆ¢</a></h1>
            <h2 class="site-description">ÂºÄÂèë„ÄÅÂ≠¶‰π†ÂèäË∂£‰∫ã</h2>
        </div>
    </header><ol class="menu-social">
            
                <li>
                    <a 
                        href='https://space.bilibili.com/630183635'
                        target="_blank"
                        title="Bilibili"
                        rel="me"
                    >
                        
                        
                            <?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1743928299453" class="icon" viewBox="0 0 1129 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1861" xmlns:xlink="http://www.w3.org/1999/xlink" width="282.25" height="256"><path d="M234.909 9.656a80.468 80.468 0 0 1 68.398 0 167.374 167.374 0 0 1 41.843 30.578l160.937 140.82h115.07l160.936-140.82a168.983 168.983 0 0 1 41.843-30.578A80.468 80.468 0 0 1 930.96 76.445a80.468 80.468 0 0 1-17.703 53.914 449.818 449.818 0 0 1-35.406 32.187 232.553 232.553 0 0 1-22.531 18.508h100.585a170.593 170.593 0 0 1 118.289 53.109 171.397 171.397 0 0 1 53.914 118.288v462.693a325.897 325.897 0 0 1-4.024 70.007 178.64 178.64 0 0 1-80.468 112.656 173.007 173.007 0 0 1-92.539 25.75h-738.7a341.186 341.186 0 0 1-72.421-4.024A177.835 177.835 0 0 1 28.91 939.065a172.202 172.202 0 0 1-27.36-92.539V388.662a360.498 360.498 0 0 1 0-66.789A177.03 177.03 0 0 1 162.487 178.64h105.414c-16.899-12.07-31.383-26.555-46.672-39.43a80.468 80.468 0 0 1-25.75-65.984 80.468 80.468 0 0 1 39.43-63.57M216.4 321.873a80.468 80.468 0 0 0-63.57 57.937 108.632 108.632 0 0 0 0 30.578v380.615a80.468 80.468 0 0 0 55.523 80.469 106.218 106.218 0 0 0 34.601 5.632h654.208a80.468 80.468 0 0 0 76.444-47.476 112.656 112.656 0 0 0 8.047-53.109v-354.06a135.187 135.187 0 0 0 0-38.625 80.468 80.468 0 0 0-52.304-54.719 129.554 129.554 0 0 0-49.89-7.242H254.22a268.764 268.764 0 0 0-37.82 0z m0 0" fill="#20B0E3" p-id="1862"></path><path d="M348.369 447.404a80.468 80.468 0 0 1 55.523 18.507 80.468 80.468 0 0 1 28.164 59.547v80.468a80.468 80.468 0 0 1-16.094 51.5 80.468 80.468 0 0 1-131.968-9.656 104.609 104.609 0 0 1-10.46-54.719v-80.468a80.468 80.468 0 0 1 70.007-67.593z m416.02 0a80.468 80.468 0 0 1 86.102 75.64v80.468a94.148 94.148 0 0 1-12.07 53.11 80.468 80.468 0 0 1-132.773 0 95.757 95.757 0 0 1-12.875-57.133V519.02a80.468 80.468 0 0 1 70.007-70.812z m0 0" fill="#20B0E3" p-id="1863"></path></svg>
                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://github.com/Free-Aaron-Li/'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1743928354280" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2983" xmlns:xlink="http://www.w3.org/1999/xlink" width="256" height="256"><path d="M512 0C229.283787 0 0.142041 234.942803 0.142041 524.867683c0 231.829001 146.647305 428.553077 350.068189 497.952484 25.592898 4.819996 34.976961-11.38884 34.976961-25.294314 0-12.45521-0.469203-45.470049-0.725133-89.276559-142.381822 31.735193-172.453477-70.380469-172.453477-70.380469-23.246882-60.569859-56.816233-76.693384-56.816234-76.693385-46.493765-32.58829 3.540351-31.948468 3.540351-31.948467 51.356415 3.71097 78.356923 54.086324 78.356923 54.086324 45.683323 80.19108 119.817417 57.072162 148.993321 43.593236 4.649376-33.91059 17.915029-57.029508 32.50298-70.167195-113.675122-13.222997-233.151301-58.223843-233.1513-259.341366 0-57.285437 19.919806-104.163095 52.678715-140.846248-5.246544-13.265652-22.820334-66.626844 4.990615-138.884127 0 0 42.996069-14.076094 140.760939 53.787741 40.863327-11.644769 84.627183-17.445825 128.177764-17.6591 43.465272 0.213274 87.271782 6.014331 128.135109 17.6591 97.679561-67.906489 140.59032-53.787741 140.59032-53.787741 27.938914 72.257282 10.407779 125.618474 5.118579 138.884127 32.844219 36.683154 52.593405 83.560812 52.593405 140.846248 0 201.586726-119.646798 245.990404-233.663158 258.957473 18.341577 16.208835 34.721032 48.199958 34.721032 97.210357 0 70.167195-0.639822 126.7275-0.639823 143.960051 0 14.033439 9.213443 30.370239 35.190235 25.209005 203.250265-69.527373 349.769606-266.123484 349.769605-497.867175C1023.857959 234.942803 794.673558 0 512 0" fill="#3E75C3" p-id="2984"></path></svg>
                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>‰∏ªÈ°µ</span>
            </a>
        </li>
        
        
        <li >
            <a href='/%E5%85%B3%E4%BA%8E/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>ÂÖ≥‰∫é</span>
            </a>
        </li>
        
        
        <li >
            <a href='/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>ÂΩíÊ°£</span>
            </a>
        </li>
        
        
        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>ÊêúÁ¥¢</span>
            </a>
        </li>
        
        
        <li >
            <a href='/%E9%93%BE%E6%8E%A5/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>ÈìæÊé•</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">
                    
                        <li id="i18n-switch">  
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M4 5h7" />
  <path d="M9 3v2c0 4.418 -2.239 8 -5 8" />
  <path d="M5 9c-.003 2.144 2.952 3.908 6.7 4" />
  <path d="M12 20l4 -9l4 9" />
  <path d="M19.1 18h-6.2" />
</svg>



                            <select name="language" title="language" onchange="window.location.href = this.selectedOptions[0].value">
                                
                                    <option value="https://Free-Aaron-Li.github.io/en/" >English</option>
                                
                                    <option value="https://Free-Aaron-Li.github.io/" selected>‰∏≠Êñá</option>
                                
                            </select>
                        </li>
                    
                

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>ÊöóËâ≤Ê®°Âºè</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">ÁõÆÂΩï</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#ÂâçË®Ä">ÂâçË®Ä</a></li>
    <li><a href="#Âä®ÊÄÅÂÜÖÂ≠òÂíåÊô∫ËÉΩÊåáÈíà">Âä®ÊÄÅÂÜÖÂ≠òÂíåÊô∫ËÉΩÊåáÈíà</a>
      <ol>
        <li><a href="#shared_ptrÁ±ª">shared_ptrÁ±ª</a>
          <ol>
            <li><a href="#make_sharedÂáΩÊï∞">make_sharedÂáΩÊï∞</a></li>
            <li><a href="#shared_ptrÁöÑÊã∑Ë¥ùÂíåËµãÂÄº">shared_ptrÁöÑÊã∑Ë¥ùÂíåËµãÂÄº</a></li>
            <li><a href="#shared_ptrËá™Âä®ÈîÄÊØÅÊâÄÁÆ°ÁêÜÁöÑÂØπË±°">shared_ptrËá™Âä®ÈîÄÊØÅÊâÄÁÆ°ÁêÜÁöÑÂØπË±°</a></li>
            <li><a href="#‰ΩøÁî®‰∫ÜÂä®ÊÄÅÁîüÂ≠òÊúüÁöÑËµÑÊ∫êÁöÑÁ±ª">‰ΩøÁî®‰∫ÜÂä®ÊÄÅÁîüÂ≠òÊúüÁöÑËµÑÊ∫êÁöÑÁ±ª</a></li>
          </ol>
        </li>
        <li><a href="#Áõ¥Êé•ÁÆ°ÁêÜÂÜÖÂ≠ò">Áõ¥Êé•ÁÆ°ÁêÜÂÜÖÂ≠ò</a>
          <ol>
            <li><a href="#Âä®ÊÄÅÂàÜÈÖçÁöÑconstÂØπË±°">Âä®ÊÄÅÂàÜÈÖçÁöÑconstÂØπË±°</a></li>
            <li><a href="#ÂÜÖÂ≠òËÄóÂ∞Ω">ÂÜÖÂ≠òËÄóÂ∞Ω</a></li>
            <li><a href="#ÈáäÊîæÂä®ÊÄÅÂÜÖÂ≠ò">ÈáäÊîæÂä®ÊÄÅÂÜÖÂ≠ò</a></li>
          </ol>
        </li>
        <li><a href="#shared_ptrÂíånewÁöÑÁªìÂêà‰ΩøÁî®">shared_ptrÂíånewÁöÑÁªìÂêà‰ΩøÁî®</a>
          <ol>
            <li><a href="#‰∏çË¶ÅÊ∑∑Âêà‰ΩøÁî®ÊôÆÈÄöÊåáÈíàÂíåÊô∫ËÉΩÊåáÈíà">‰∏çË¶ÅÊ∑∑Âêà‰ΩøÁî®ÊôÆÈÄöÊåáÈíàÂíåÊô∫ËÉΩÊåáÈíà</a></li>
            <li><a href="#‰∏çË¶Å‰ΩøÁî®getÂàùÂßãÂåñÂè¶‰∏Ä‰∏™Êô∫ËÉΩÊåáÈíàÊàñ‰∏∫Êô∫ËÉΩÊåáÈíàËµãÂÄº">‰∏çË¶Å‰ΩøÁî®getÂàùÂßãÂåñÂè¶‰∏Ä‰∏™Êô∫ËÉΩÊåáÈíàÊàñ‰∏∫Êô∫ËÉΩÊåáÈíàËµãÂÄº</a></li>
            <li><a href="#ÂÖ∂‰ªñshared_ptrÊìç‰Ωú">ÂÖ∂‰ªñshared_ptrÊìç‰Ωú</a></li>
          </ol>
        </li>
        <li><a href="#Êô∫ËÉΩÊåáÈíàÂíåÂºÇÂ∏∏">Êô∫ËÉΩÊåáÈíàÂíåÂºÇÂ∏∏</a>
          <ol>
            <li><a href="#Êô∫ËÉΩÊåáÈíàÂíåÂìëÁ±ª">Êô∫ËÉΩÊåáÈíàÂíåÂìëÁ±ª</a></li>
          </ol>
        </li>
        <li><a href="#unique_ptr">unique_ptr</a>
          <ol>
            <li><a href="#Âêëunique_ptr‰º†ÈÄíÂà†Èô§Âô®">Âêëunique_ptr‰º†ÈÄíÂà†Èô§Âô®</a></li>
          </ol>
        </li>
        <li><a href="#weak_ptr">weak_ptr</a></li>
      </ol>
    </li>
    <li><a href="#122-Âä®ÊÄÅÊï∞ÁªÑ">12.2 Âä®ÊÄÅÊï∞ÁªÑ</a>
      <ol>
        <li><a href="#newÂíåÊï∞ÁªÑ">newÂíåÊï∞ÁªÑ</a>
          <ol>
            <li><a href="#Êô∫ËÉΩÊåáÈíàÂíåÂä®ÊÄÅÊï∞ÁªÑ">Êô∫ËÉΩÊåáÈíàÂíåÂä®ÊÄÅÊï∞ÁªÑ</a></li>
          </ol>
        </li>
        <li><a href="#allocatorÁ±ª">allocatorÁ±ª</a></li>
      </ol>
    </li>
    <li><a href="#123-‰ΩøÁî®Ê†áÂáÜÂ∫ìÊñáÊú¨Êü•ËØ¢Á®ãÂ∫è">12.3 ‰ΩøÁî®Ê†áÂáÜÂ∫ìÔºöÊñáÊú¨Êü•ËØ¢Á®ãÂ∫è</a>
      <ol>
        <li><a href="#ÊñáÊú¨Êü•ËØ¢Á®ãÂ∫èÁöÑËÆæËÆ°">ÊñáÊú¨Êü•ËØ¢Á®ãÂ∫èÁöÑËÆæËÆ°</a></li>
      </ol>
    </li>
    <li><a href="#ÊÄªÁªì">ÊÄªÁªì</a></li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/p/c-%E5%9F%BA%E7%A1%80-%E7%AC%AC%E5%8D%81%E4%BA%8C%E7%AB%A0-%E5%8A%A8%E6%80%81%E5%86%85%E5%AD%98/">
                
                    <img src="https://s3.bmp.ovh/imgs/2024/11/23/f8eb19dce3c8aec6.jpg" loading="lazy" alt="Featured image of post C&#43;&#43; Âü∫Á°ÄÔºö Á¨¨ÂçÅ‰∫åÁ´† Âä®ÊÄÅÂÜÖÂ≠ò" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/c&#43;&#43;-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" >
                C&#43;&#43; Â≠¶‰π†Á¨îËÆ∞
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/c-%E5%9F%BA%E7%A1%80-%E7%AC%AC%E5%8D%81%E4%BA%8C%E7%AB%A0-%E5%8A%A8%E6%80%81%E5%86%85%E5%AD%98/">C&#43;&#43; Âü∫Á°ÄÔºö Á¨¨ÂçÅ‰∫åÁ´† Âä®ÊÄÅÂÜÖÂ≠ò</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Apr 06, 2025</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    ÈòÖËØªÊó∂Èïø: 22 ÂàÜÈíü
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h1 id="Á¨¨ÂçÅ‰∫åÁ´†-Âä®ÊÄÅÂÜÖÂ≠ò">Á¨¨ÂçÅ‰∫åÁ´† Âä®ÊÄÅÂÜÖÂ≠ò
</h1><h2 id="ÂâçË®Ä">ÂâçË®Ä
</h2><p>Âú®Ê≠§‰πãÂâçÔºåÊàë‰ª¨‰ΩøÁî®ÁöÑÁ®ãÂ∫è‰∏≠ÂØπË±°ÈÉΩÊúâÁùÄ‰∏•Ê†ºÂÆö‰πâÁöÑÁîüÂ≠òÊúüÔºö</p>
<ul>
<li>ÂÖ®Â±ÄÂØπË±°ÔºåÂú®Á®ãÂ∫èÂêØÂä®Êó∂ÂàÜÈÖçÔºåÂú®Á®ãÂ∫èÁªìÊùüÊó∂ÈîÄÊØÅ„ÄÇ</li>
<li>Â±ÄÈÉ®Ëá™Âä®ÂØπË±°ÔºåÂΩìËøõÂÖ•ÂÆö‰πâÊâÄÂú®Á®ãÂ∫èÊó∂ÂàõÂª∫ÔºåÂú®Á¶ªÂºÄÂùóÊó∂ÈîÄÊØÅ„ÄÇ</li>
<li>Â±ÄÈÉ®staticÂØπË±°ÔºåÂú®Á¨¨‰∏ÄÊ¨°‰ΩøÁî®ÂâçÂàÜÈÖçÔºåÂú®Á®ãÂ∫èÁªìÊùüÊó∂ÈîÄÊØÅ„ÄÇ</li>
</ul>
<p>ÊòæÁÑ∂ËøôÂ≠òÂú®ÈôêÂà∂Ôºå‰∏∫Ê≠§C++ÊîØÊåÅÂä®ÊÄÅ<strong>ÂàÜÈÖçÂØπË±°</strong>„ÄÇÂä®ÊÄÅÂàÜÈÖçÂØπË±°ÁöÑÁîüÂ≠òÊúü‰∏éÂÆÉ‰ª¨Âú®Âì™ÈáåÂàõÂª∫Êó†ÂÖ≥ÔºåÂè™ÊúâÂΩìÊòæÂºèÂú∞Ë¢´ÈáäÊîæÊó∂ÔºåËøô‰∫õÂØπË±°Êâç‰ºöË¢´ÈîÄÊØÅ„ÄÇ</p>
<p><strong>Âä®ÊÄÅÂØπË±°ÁöÑÊ≠£Á°ÆÈáäÊîæÊòØÁºñÁ®ã‰∏≠ÊûÅÂÖ∂ÂÆπÊòìÂá∫ÈîôÁöÑÂú∞Êñπ</strong>„ÄÇÈÇ£‰πà‰∏∫‰∫ÜÊõ¥ÂÆâÂÖ®ÈáäÊîæÔºåÊ†áÂáÜÂ∫ìÂÆö‰πâ‰∫Ü‰∏§‰∏™<strong>Êô∫ËÉΩÊåáÈíà</strong>Êù•ÁÆ°ÁêÜÂä®ÊÄÅÂàÜÈÖçÁöÑÂØπË±°„ÄÇÂΩì‰∏Ä‰∏™ÂØπË±°Â∫îËØ•Ë¢´ÈáäÊîæÊó∂ÔºåÊåáÂêëÂÆÉÁöÑÊô∫ËÉΩÊåáÈíàÂèØ‰ª•Á°Æ‰øùËá™Âä®Âú∞ÈáäÊîæÂÆÉ„ÄÇ</p>
<blockquote>
<p>ÈùôÊÄÅÂÜÖÂ≠òÔºöÂ±ÄÈÉ®staticÂØπË±°„ÄÅÁ±ªstaticÊï∞ÊçÆÊàêÂëò‰ª•ÂèäÂÆö‰πâÂú®‰ªª‰ΩïÂáΩÊï∞‰πãÂ§ñÁöÑÂèòÈáè</p>
<p>Ê†àÂÜÖÂ≠òÔºöÂÆö‰πâÂú®ÂáΩÊï∞ÂÜÖÁöÑÈùûstaticÂØπË±°</p>
<p>ÂàÜÈÖçÂú®ÈùôÊÄÅÊàñÊ†àÂÜÖÂ≠òÁöÑÂØπË±°Áî±ÁºñËØëÂô®Ëá™Âä®ÂàõÂª∫ÂíåÈîÄÊØÅ„ÄÇÈô§‰∫ÜÈùôÊÄÅÂÜÖÂ≠òÂíåÊ†àÂÜÖÂ≠òÔºåÊØè‰∏™Á®ãÂ∫èËøòÊã•Êúâ‰∏Ä‰∏™ÂÜÖÂ≠òÊ±†„ÄÇÁß∞‰∏∫<strong>Ëá™Áî±Á©∫Èó¥</strong>Êàñ<strong>Â†Ü</strong>ÔºåÁ®ãÂ∫èÁî®Â†ÜÊù•Â≠òÂÇ®<strong>Âä®ÊÄÅÂàÜÈÖç</strong>Ôºàdynamically allocateÔºâÁöÑÂØπË±°‚Äî‚ÄîÂç≥ÈÇ£‰∫õÂú®Á®ãÂ∫èËøêË°åÊó∂ÂàÜÈÖçÁöÑÂØπË±°„ÄÇ</p></blockquote>
<h2 id="Âä®ÊÄÅÂÜÖÂ≠òÂíåÊô∫ËÉΩÊåáÈíà">Âä®ÊÄÅÂÜÖÂ≠òÂíåÊô∫ËÉΩÊåáÈíà
</h2><p>Âú®C++‰∏≠ÔºåÂä®ÊÄÅÂÜÖÂ≠òÁöÑÁÆ°ÁêÜÈÄöËøá‰∏ÄÂØπËøêÁÆóÁ¨¶ÂÆåÊàêÔºö</p>
<ul>
<li><strong>new</strong>ÔºåÂú®Âä®ÊÄÅÂÜÖÂ≠ò‰∏≠‰∏∫ÂØπË±°ÂàÜÈÖçÁ©∫Èó¥Âπ∂ËøîÂõû‰∏Ä‰∏™ÊåáÂêëÂØπË±°ÁöÑÊåáÈíàÔºåÂèØ‰ª•ÈÄâÊã©ÂØπÂØπË±°ÂàùÂßãÂåñ</li>
<li><strong>delete</strong>ÔºåÊé•Âèó‰∏Ä‰∏™Âä®ÊÄÅÂØπË±°ÁöÑÊåáÈíàÔºåÈîÄÊØÅËØ•ÊåáÈíàÊåáÂêëÁöÑÂØπË±°ÔºåÂπ∂ÈáäÊîæ‰∏é‰πãÂÖ≥ËÅîÁöÑÂÜÖÂ≠ò</li>
</ul>
<p>‰ΩÜÊòØÂä®ÊÄÅÂÜÖÂ≠òÁöÑ‰ΩøÁî®ÂÆπÊòìÂá∫ÈóÆÈ¢òÔºåÈöæ‰ª•Á°Æ‰øùÂú®Ê≠£Á°ÆÊó∂Èó¥ÈáäÊîæÂÜÖÂ≠òÔºåÈÇ£‰πàÂ∞±ÂèØËÉΩÂá∫Áé∞‚ÄúÂÜÖÂ≠òÊ≥ÑÈú≤‚Äù„ÄÅ‚ÄúÂºïÁî®ÈùûÊ≥ïÊåáÈíà‚ÄùÁ≠â„ÄÇÂØπÊ≠§ÔºåÊ†áÂáÜÂ∫ìÂºïÂÖ•‰∏§ÁßçÊô∫ËÉΩÊåáÈíàÔºàsmart pointerÔºâÔºö</p>
<ul>
<li><strong>shared_ptr</strong>ÔºåÂÖÅËÆ∏Â§ö‰∏™ÊåáÈíàÊåáÂêëÂêå‰∏Ä‰∏™ÂØπË±°</li>
<li><strong>unique_ptr</strong>ÔºåÁã¨Âç†ÊâÄÊåáÂêëÁöÑÂØπË±°</li>
</ul>
<blockquote>
<p>Êô∫ËÉΩÊåáÈíàÁöÑË°å‰∏∫Á±ª‰ººÂ∏∏ËßÑÊåáÈíàÔºåÂå∫Âà´Âú®‰∫éÊô∫ËÉΩÊåáÈíàË¥üË¥£Ëá™Âä®ÈáäÊîæÊâÄÊåáÂêëÁöÑÂØπË±°„ÄÇ‰∏äËø∞ÁöÑ‰∏§ÁßçÊåáÈíàÂå∫Âà´Âú®‰∫éÁÆ°ÁêÜÂ∫ïÂ±ÇÊåáÈíàÁöÑÊñπÂºè‰∏çÂêå„ÄÇ</p>
<p>ÂêåÊó∂ÔºåÊ†áÂáÜÂ∫ìËøòÂÆö‰πâ‰∫Ü‰∏Ä‰∏™<strong>weak_ptr</strong>ÁöÑ‰º¥ÈöèÁ±ªÔºåÂÖ∂ÊòØ‰∏Ä‰∏™Âº±ÂºïÁî®ÔºåÊåáÂêëshared_ptrÊâÄÁÆ°ÁêÜÁöÑÂØπË±°„ÄÇ‰∏âËÄÖÂùáÂÆö‰πâÂú®<code>memory</code>Â§¥Êñá‰ª∂‰∏≠„ÄÇ</p></blockquote>
<h3 id="shared_ptrÁ±ª">shared_ptrÁ±ª
</h3><p>Êô∫ËÉΩÊåáÈíà‰∏∫Ê®°ÊùøÔºåÂú®ÂàõÂª∫Êó∂ÈúÄË¶ÅÊèê‰æõÈ¢ùÂ§ñÁöÑ‰ø°ÊÅØË°®ÊòéÊåáÈíàÂèØ‰ª•ÊåáÂêëÁöÑÁ±ªÂûã„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="n">shard_ptr</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">p_1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">shard_ptr</span><span class="o">&lt;</span><span class="n">list</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">p_2</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<div class="table-wrapper"><table>
  <thead>
      <tr>
          <th style="text-align: center">shared_ptrÂíåunique_ptrÈÉΩÊîØÊåÅÁöÑÊìç‰Ωú</th>
          <th style="text-align: center">Ëß£Èáä</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: center">shared_ptr&lt;T&gt; sp<br/>unique_ptr&lt;T&gt; up</td>
          <td style="text-align: center">Á©∫Êô∫ËÉΩÊåáÈíàÔºåÂèØ‰ª•ÊåáÂêëÁ±ªÂûã‰∏∫TÁöÑÂØπË±°</td>
      </tr>
      <tr>
          <td style="text-align: center">p</td>
          <td style="text-align: center">Â∞ÜpÁî®‰Ωú‰∏Ä‰∏™Êù°‰ª∂Âà§Êñ≠ÔºåËã•pÊåáÂêë‰∏Ä‰∏™ÂØπË±°ÔºåÂàô‰∏∫true</td>
      </tr>
      <tr>
          <td style="text-align: center">*p</td>
          <td style="text-align: center">Ëß£ÂºïÁî®p,Ëé∑ÂæóÂÆÉÊåáÂêëÁöÑÂØπË±°</td>
      </tr>
      <tr>
          <td style="text-align: center">p-&gt;member</td>
          <td style="text-align: center">Á≠â‰ª∑‰∫é(*p).member</td>
      </tr>
      <tr>
          <td style="text-align: center">p.get()</td>
          <td style="text-align: center">ËøîÂõûp‰∏≠‰øùÂ≠òÁöÑÊåáÈíà„ÄÇË¶ÅÂ∞èÂøÉ‰ΩøÁî®ÔºåËã•Êô∫ËÉΩÊåáÈíàÈáäÊîæ‰∫ÜÂÖ∂ÂØπË±°ÔºåËøîÂõûÁöÑÊåáÈíàÊâÄÊåáÂêëÁöÑÂØπË±°‰πüÂ∞±Ê∂àÂ§±‰∫Ü</td>
      </tr>
      <tr>
          <td style="text-align: center">swap(p,q)<br/>p.swap(q)</td>
          <td style="text-align: center">‰∫§Êç¢pÂíåq‰∏≠ÁöÑÊåáÈíà</td>
      </tr>
  </tbody>
</table></div>
<div class="table-wrapper"><table>
  <thead>
      <tr>
          <th style="text-align: center">shard_ptrÁã¨ÊúâÁöÑÊìç‰Ωú</th>
          <th style="text-align: center">Ëß£Èáä</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: center">make_shared&lt;T&gt;(<i>args</i>)</td>
          <td style="text-align: center">ËøîÂõû‰∏Ä‰∏™shared_ptrÔºåÊåáÂêë‰∏Ä‰∏™Âä®ÊÄÅÂàÜÈÖçÁöÑÁ±ªÂûã‰∏∫TÁöÑÂØπË±°„ÄÇ‰ΩøÁî®<i>args</i>ÂàùÂßãÂåñÊ≠§ÂØπË±°</td>
      </tr>
      <tr>
          <td style="text-align: center">shared_ptr&lt;T&gt;p(q)</td>
          <td style="text-align: center">pÊòØshared_ptr qÁöÑÊã∑Ë¥ù„ÄÇÊ≠§Êìç‰Ωú‰ºöÈÄíÂ¢ûq‰∏≠ÁöÑËÆ°Êï∞Âô®„ÄÇq‰∏≠ÁöÑÊåáÈíàÂøÖÈ°ªËÉΩËΩ¨Âåñ‰∏∫T*</td>
      </tr>
      <tr>
          <td style="text-align: center">p=q</td>
          <td style="text-align: center">pÂíåqÈÉΩÊòØshared_ptrÔºåÊâÄ‰øùÂ≠òÁöÑÊåáÈíàÂøÖÈ°ªËÉΩÁõ∏‰∫íËΩ¨Êç¢„ÄÇÊ≠§Êìç‰Ωú‰ºöÈÄíÂáèpÁöÑÂºïÁî®ËÆ°Êï∞ÔºåÈÄíÂ¢ûqÁöÑÂºïÁî®ËÆ°Êï∞ÔºõËã•pÁöÑÂºïÁî®ËÆ°Êï∞Âèò‰∏∫0,ÂàôÂ∞ÜÂÖ∂ÁÆ°ÁêÜÁöÑÂéüÂÜÖÂ≠òÈáäÊîæ</td>
      </tr>
      <tr>
          <td style="text-align: center">p.unique()</td>
          <td style="text-align: center">Ëã•p.use_count()‰∏∫1,ËøîÂõûtrue,Âê¶ÂàôËøîÂõûfalse</td>
      </tr>
      <tr>
          <td style="text-align: center">p.use_count()</td>
          <td style="text-align: center">ËøîÂõû‰∏épÂÖ±‰∫´ÂØπË±°ÁöÑÊô∫ËÉΩÊåáÈíàÊï∞ÈáèÔºõÂèØËÉΩÂæàÊÖ¢Ôºå‰∏ªË¶ÅÁî®‰∫éË∞ÉËØï</td>
      </tr>
  </tbody>
</table></div>
<h4 id="make_sharedÂáΩÊï∞">make_sharedÂáΩÊï∞
</h4><p><strong>ÊúÄÂÆâÂÖ®ÁöÑÂàÜÈÖçÂíå‰ΩøÁî®Âä®ÊÄÅÂÜÖÂ≠ò</strong>ÁöÑÊñπÊ≥ïÊòØË∞ÉÁî®make_sharedÊ†áÂáÜÂ∫ìÂáΩÊï∞ÔºåÊ≠§ÂáΩÊï∞Âú®Âä®ÊÄÅÂÜÖÂ≠ò‰∏≠ÂàÜÈÖç‰∏Ä‰∏™ÂØπË±°Âπ∂ÂàùÂßãÂåñÂÆÉÔºåËøîÂõûÊåáÂêëÊ≠§ÂØπË±°ÁöÑshared_ptr„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">p_3</span><span class="o">=</span><span class="n">make_shared</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">42</span><span class="p">);</span> <span class="c1">// ÊåáÂêë‰∏Ä‰∏™ÂÄº‰∏∫42ÁöÑint
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">p_4</span><span class="o">=</span><span class="n">make_shared</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="sc">&#39;9&#39;</span><span class="p">);</span> <span class="c1">// ÊåáÂêë‰∏Ä‰∏™ÂÄº‰∏∫‚Äú99‚ÄùÁöÑstring
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">p_5</span><span class="o">=</span><span class="n">make_shared</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">();</span> <span class="c1">// ÊåáÂêë‰∏Ä‰∏™ÂÄºÂàùÂßãÂåñÁöÑint
</span></span></span></code></pre></td></tr></table>
</div>
</div><h4 id="shared_ptrÁöÑÊã∑Ë¥ùÂíåËµãÂÄº">shared_ptrÁöÑÊã∑Ë¥ùÂíåËµãÂÄº
</h4><p>ÂΩìËøõË°åÊã∑Ë¥ùÊàñËµãÂÄºÊìç‰ΩúÊó∂ÔºåÊØè‰∏™shared_ptrÈÉΩ‰ºöËÆ∞ÂΩïÊúâÂ§öÂ∞ë‰∏™ÂÖ∂‰ªñshared_ptrÊåáÂêëÁõ∏ÂêåÁöÑÂØπË±°Ôºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">auto</span> <span class="n">p</span><span class="o">=</span><span class="n">make_shared</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">42</span><span class="p">);</span> <span class="c1">// pÊåáÂêëÁöÑÂØπË±°Âè™Êúâp‰∏Ä‰∏™ÂºïÁî®ËÄÖ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">auto</span> <span class="nf">q</span><span class="p">(</span><span class="n">P</span><span class="p">);</span> <span class="c1">// pÂíåqÊåáÂêëÁõ∏ÂêåÂØπË±°ÔºåÊ≠§ÂØπË±°Êúâ‰∏§‰∏™ÂºïÁî®ËÄÖ
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Êàë‰ª¨ÂèØ‰ª•ËÆ§‰∏∫ÊØè‰∏™shared_ptrÈÉΩÊúâ‰∏Ä‰∏™ÂÖ≥ËÅîÁöÑËÆ°Êï∞Âô®ÔºåÈÄöÂ∏∏Áß∞ÂÖ∂‰∏∫<strong>ÂºïÁî®ËÆ°Êï∞</strong>Ôºàreference countÔºâ„ÄÇÊó†ËÆ∫‰ΩïÊó∂Êã∑Ë¥ù‰∏Ä‰∏™shared_ptr,ËÆ°Êï∞Âô®ÈÉΩ‰ºöÈÄíÂ¢û„ÄÇ‰æãÂ¶ÇÔºåÂΩìÁî®‰∏Ä‰∏™shared_ptrÂàùÂßãÂåñÂè¶‰∏Ä‰∏™shared_ptr,ÊàñÂ∞ÜÂÆÉ‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíÁªô‰∏Ä‰∏™ÂáΩÊï∞‰ª•Âèä‰Ωú‰∏∫ÂáΩÊï∞ÁöÑËøîÂõûÂÄºÊó∂ÔºåÂÆÉÊâÄÂÖ≥ËÅîÁöÑËÆ°Êï∞Âô®Â∞±‰ºöÈÄíÂ¢û„ÄÇÂΩìÊàë‰ª¨Áªôshared_ptrËµã‰∫à‰∏Ä‰∏™Êñ∞ÂÄºÊàñÊòØshared_ptrË¢´ÈîÄÊØÅÔºà‰æãÂ¶Ç‰∏Ä‰∏™Â±ÄÈÉ®ÁöÑshared_ptrÁ¶ªÂºÄÂÖ∂‰ΩúÁî®ÂüüÔºâÊó∂ÔºåËÆ°Êï∞Âô®Â∞±‰ºöÈÄíÂáè„ÄÇ</p>
<p>ÂΩì‰∏Ä‰∏™shared_ptrÁöÑËÆ°Êï∞Âô®Âèò‰∏∫0,ÂÆÉÂ∞±‰ºöËá™Âä®ÈáäÊîæËá™Â∑±ÊâÄÁÆ°ÁêÜÁöÑÂØπË±°Ôºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">auto</span> <span class="n">p</span> <span class="o">=</span> <span class="n">make_shared</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">42</span><span class="p">);</span> <span class="c1">// pÊåáÂêëÁöÑintÂè™Êúâ‰∏Ä‰∏™ÂºïÁî®ËÄÖ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">p</span> <span class="o">=</span> <span class="n">q</span><span class="p">;</span> <span class="c1">// ÁªôpËµãÂÄºÔºå‰ª§ÂÆÉÊåáÂêëÂè¶‰∏Ä‰∏™Âú∞ÂùÄ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	   <span class="c1">// ÈÄíÂ¢ûqÊåáÂêëÁöÑÂØπË±°ÁöÑÂºïÁî®ËÆ°Êï∞
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	   <span class="c1">// ÈÄíÂáèpÂéüÊù•ÊåáÂêëÁöÑÂØπË±°ÁöÑÂºïÁî®ËÆ°Êï∞
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	   <span class="c1">// pÂéüÊù•ÊåáÂêëÁöÑÂØπË±°Â∑≤ÁªèÊ≤°ÊúâÂºïÁî®ËÄÖÔºå‰ºöËá™Âä®ÈáäÊîæ
</span></span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>Âà∞Â∫ïÊòØÁî®‰∏Ä‰∏™ËÆ°Êï∞Âô®ËøòÊòØÂÖ∂‰ªñÊï∞ÊçÆÁªìÊûÑÊù•ËÆ∞ÂΩïÊúâÂ§öÂ∞ëÊåáÈíàÂÖ±‰∫´ÂØπË±°ÔºåÂÆåÂÖ®Áî±Ê†áÂáÜÂ∫ìÁöÑÂÖ∑‰ΩìÂÆûÁé∞Êù•ÂÜ≥ÂÆö„ÄÇÂÖ≥ÈîÆÊòØÊô∫ËÉΩÊåáÈíàÁ±ªËÉΩËÆ∞ÂΩïÊúâÂ§öÂ∞ë‰∏™shared_ptrÊåáÂêëÁõ∏ÂêåÁöÑÂØπË±°ÔºåÂπ∂ËÉΩÂú®ÊÅ∞ÂΩìÁöÑÊó∂ÂÄôËá™Âä®ÈáäÊîæÂØπË±°„ÄÇ</p></blockquote>
<h4 id="shared_ptrËá™Âä®ÈîÄÊØÅÊâÄÁÆ°ÁêÜÁöÑÂØπË±°">shared_ptrËá™Âä®ÈîÄÊØÅÊâÄÁÆ°ÁêÜÁöÑÂØπË±°
</h4><p>shared_ptrÁ±ª‰ºöÈÄöËøá<strong>ÊûêÊûÑÂáΩÊï∞</strong>ÔºàdestructorÔºâÂÆåÊàêÈîÄÊØÅÂ∑•‰Ωú„ÄÇshared_ptrÁöÑÊûêÊûÑÂáΩÊï∞‰ºöÈÄíÂáèÂÆÉÊâÄÊåáÂêëÁöÑÂØπË±°ÁöÑÂºïÁî®ËÆ°Êï∞„ÄÇÂ¶ÇÊûúÂºïÁî®ËÆ°Êï∞‰∏∫0,shared_ptrÁöÑÊûêÊûÑÂáΩÊï∞Â∞±‰ºöÈîÄÊØÅÂØπË±°ÔºåÂπ∂ÈáäÊîæÂÆÉÊâÄÂç†Áî®ÁöÑÂÜÖÂ≠ò„ÄÇ</p>
<blockquote>
<p>Â¶ÇÊûúÂ∞Üshared_ptrÂ≠òÊîæÂú®‰∏Ä‰∏™ÂÆπÂô®‰∏≠ÔºåËÄåÂêé‰∏çÂÜçÈúÄË¶ÅÊüê‰∫õÂÖÉÁ¥†ÔºåËÄåÂè™‰ΩøÁî®ÂÖ∂‰∏≠ÁöÑ‰∏ÄÈÉ®ÂàÜÔºåË¶ÅËÆ∞ÂæóÁî®eraseÂà†Èô§‰∏çÂÜçÈúÄË¶ÅÁöÑÈÇ£‰∫õÂÖÉÁ¥†</p></blockquote>
<h4 id="‰ΩøÁî®‰∫ÜÂä®ÊÄÅÁîüÂ≠òÊúüÁöÑËµÑÊ∫êÁöÑÁ±ª">‰ΩøÁî®‰∫ÜÂä®ÊÄÅÁîüÂ≠òÊúüÁöÑËµÑÊ∫êÁöÑÁ±ª
</h4><p>Á®ãÂ∫è‰ΩøÁî®Âä®ÊÄÅÂÜÖÂ≠òÂá∫‰∫é‰ª•‰∏ã‰∏âÁßçÂéüÂõ†‰πã‰∏ÄÔºö</p>
<ul>
<li>Á®ãÂ∫è‰∏çÁü•ÈÅìÈúÄË¶ÅÂ§öÂ∞ëÂØπË±°</li>
<li>Á®ãÂ∫è‰∏çÁü•ÈÅìÊâÄÈúÄÂØπË±°ÁöÑÂáÜÁ°ÆÁ±ªÂûã</li>
<li>Á®ãÂ∫èÈúÄË¶ÅÂú®Â§ö‰∏™ÂØπË±°Èó¥ÂÖ±‰∫´Êï∞ÊçÆ</li>
</ul>
<h3 id="Áõ¥Êé•ÁÆ°ÁêÜÂÜÖÂ≠ò">Áõ¥Êé•ÁÆ°ÁêÜÂÜÖÂ≠ò
</h3><p>Âú®ÂâçÈù¢Êàë‰ª¨Áü•ÈÅìC++ÂÆö‰πâ‰∫ÜnewÂíådeleteËøõË°åÂä®ÊÄÅÂÜÖÂ≠òÁöÑÂàÜÈÖçÂíåÈáäÊîæ„ÄÇÁõ∏ÂØπ‰∫éÊô∫ËÉΩÊåáÈíàÔºåËøô‰∏§‰∏™ËøêÁÆóÁ¨¶ÁÆ°ÁêÜÈùûÂ∏∏ÂÆπÂô®Âá∫Èîô„ÄÇËá™Â∑±Áõ¥Êé•ÁÆ°ÁêÜÂÜÖÂ≠òÁöÑÁ±ª‰∏é‰ΩøÁî®Êô∫ËÉΩÊåáÈíàÁöÑÁ±ª‰∏çÂêåÔºåÂÆÉ‰ª¨‰∏çËÉΩ‰æùËµñ‰∫éÁ±ªÂØπË±°Êã∑Ë¥ù„ÄÅËµãÂÄºÂíåÈîÄÊØÅÊìç‰ΩúÁöÑ‰ªª‰ΩïÈªòËÆ§ÂÆö‰πâÔºåÂõ†Ê≠§Ôºå‰ΩøÁî®Êô∫ËÉΩÊåáÈíàÁöÑÁ®ãÂ∫èÊõ¥ÂÆπÊòìÁºñÂÜôÂíåË∞ÉËØï„ÄÇ</p>
<p>Â∏∏ËßÅÁöÑnewÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kt">int</span><span class="o">*</span> <span class="n">pi</span> <span class="o">=</span><span class="k">new</span> <span class="kt">int</span><span class="p">;</span> <span class="c1">// piÊåáÂêë‰∏Ä‰∏™Âä®ÊÄÅÂàÜÈÖçÁöÑ„ÄÅÊú™ÂàùÂßãÂåñÁöÑÊó†ÂêçÂØπË±°
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÂä®ÊÄÅÂàÜÈÖçÁöÑÂØπË±°ÊòØÈªòËÆ§ÂàùÂßãÂåñÁöÑÔºåËøôÊÑèÂë≥ÁùÄÂÜÖÁΩÆÁ±ªÂûãÊàñÁªÑÂêàÁ±ªÂûãÁöÑÂØπË±°ÁöÑÂÄºÂ∞ÜÊòØ‰∏∫ÂÆö‰πâÁöÑÔºåËÄåÁ±ªÁ±ªÂûãÂØπË±°Â∞ÜÁî®ÈªòËÆ§ÊûÑÈÄ†ÂáΩÊï∞ËøõË°åÂàùÂßãÂåñ„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="n">string</span> <span class="o">*</span><span class="n">p_s</span><span class="o">=</span><span class="k">new</span> <span class="n">string</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="o">*</span><span class="n">pi</span><span class="o">=</span><span class="k">new</span> <span class="kt">int</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>ÈªòËÆ§ÂàùÂßãÂåñ</p>
<p>Â¶ÇÊûúÂÆö‰πâÂèòÈáèÊó∂Ê≤°ÊúâÊåáÂÆöÂàùÂÄºÔºåÂàôÂèòÈáèË¢´ÈªòËÆ§ÂàùÂßãÂåñÔºàdefault initializedÔºâÔºåÊ≠§Êó∂ÂèòÈáèË¢´Ëµã‰∫à‰∫Ü‚ÄúÈªòËÆ§ÂÄº‚Äù„ÄÇÈªòËÆ§ÂÄºÂà∞Â∫ïÊòØ‰ªÄ‰πàÁî±ÂèòÈáèÁ±ªÂûãÂÜ≥ÂÆöÔºåÂêåÊó∂<strong>ÂÆö‰πâÂèòÈáè</strong>ÁöÑ‰ΩçÁΩÆ‰πü‰ºöÂØπÊ≠§ÊúâÂΩ±Âìç„ÄÇ</p>
<p>Â¶ÇÊûúÊòØÂÜÖÁΩÆÁ±ªÂûãÁöÑÂèòÈáèÊú™Ë¢´ÊòæÂºèÂàùÂßãÂåñÔºåÂÆÉÁöÑÂÄºÁî±ÂÆö‰πâÁöÑ‰ΩçÁΩÆÂÜ≥ÂÆö„ÄÇÂÆö‰πâ‰∫é‰ªª‰ΩïÂáΩÊï∞‰Ωì‰πãÂ§ñÁöÑÂèòÈáèË¢´ÂàùÂßãÂåñ‰∏∫0ÔºõÂÆö‰πâÂú®ÂáΩÊï∞‰ΩìÂÜÖÈÉ®ÁöÑÂÜÖÁΩÆÁ±ªÂûãÂèòÈáèÂ∞Ü<strong>‰∏çË¢´ÂàùÂßãÂåñ</strong>„ÄÇ‰∏Ä‰∏™Êú™Ë¢´ÂàùÂßãÂåñÁöÑÂÜÖÁΩÆÁ±ªÂûãÂèòÈáèÁöÑÂÄºÊòØÊú™ÂÆö‰πâÁöÑ„ÄÇÂ¶ÇÊûúËØïÂõæÊã∑Ë¥ùÊàñ‰ª•ÂÖ∂‰ªñÂΩ¢ÂºèËÆøÈóÆÊ≠§Á±ªÂÄºÂ∞ÜÂºïÂèëÈîôËØØ„ÄÇ</p></blockquote>
<p>ÂØπÂä®ÊÄÅÂàÜÈÖçÁöÑÂØπË±°ÔºåÊàë‰ª¨ÂèØ‰ª•ÈááÁî®Áõ¥Êé•ÂàùÂßãÂåñ„ÄÅ‰º†ÁªüÁöÑÊûÑÈÄ†ÊñπÂºè„ÄÅÂàóË°®ÂàùÂßãÂåñ„ÄÅÂÄºÂàùÂßãÂåñÁöÑÊñπÂºèËøõË°åÂàùÂßãÂåñ„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kt">int</span><span class="o">*</span> <span class="n">p_s0</span><span class="o">=</span><span class="k">new</span> <span class="n">string</span><span class="p">;</span> <span class="c1">// ÈªòËÆ§ÂàùÂßãÂåñ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">int</span><span class="o">*</span> <span class="n">p_i1</span><span class="o">=</span><span class="k">new</span> <span class="kt">int</span><span class="p">(</span><span class="mi">123</span><span class="p">);</span> <span class="c1">// Áõ¥Êé•ÂàùÂßãÂåñ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">int</span><span class="o">*</span> <span class="n">p_s1</span><span class="o">=</span><span class="k">new</span> <span class="n">string</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="s">&#34;1&#34;</span><span class="p">);</span> <span class="c1">// ‰º†ÁªüÁöÑÊûÑÈÄ†ÊñπÂºè
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;*</span> <span class="n">p_v1</span><span class="o">=</span><span class="k">new</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">};</span> <span class="c1">// ÂàóË°®ÂàùÂßãÂåñ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">string</span><span class="o">*</span> <span class="n">p_s2</span><span class="o">=</span><span class="k">new</span> <span class="n">string</span><span class="p">();</span> <span class="c1">// ÂÄºÂàùÂßãÂåñ 
</span></span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>ÂØπ‰∫éÂÆö‰πâ‰∫ÜËá™Â∑±ÁöÑÊûÑÈÄ†ÂáΩÊï∞ÁöÑÁ±ªÁ±ªÂûãÔºàÂ¶ÇstringÔºâÊù•ËØ¥ÔºåÂÄºÂàùÂßãÂåñÊòØÊ≤°ÊúâÊÑè‰πâÁöÑÔºå‰ΩÜÊòØÂØπÂÜÖÁΩÆÁ±ªÂûãÂØπË±°Êù•ËØ¥ÂàôÊúâÂæàÂ§ßÁöÑÊÑè‰πâÔºöÂÄºÂàùÂßãÂåñÁöÑÁöÑÂÜÖÁΩÆÁ±ªÂûãÂØπË±°ÊúâÁùÄËâØÂ•ΩÁöÑÂÄºÔºåËÄåÈªòËÆ§ÂàùÂßãÂåñÁöÑÂØπË±°ÁöÑÂÄºÂàôÊòØÊú™ÂÆö‰πâÁöÑ„ÄÇ</p>
<p>ÂêåÊ†∑ÔºåÂØπ‰∫éÁ±ª‰∏≠‰æùËµñ‰∫éÁºñËØëÂô®ÂêàÊàêÁöÑÈªòËÆ§ÊûÑÈÄ†ÂáΩÊï∞ÁöÑÂÜÖÁΩÆÁ±ªÂûãÊàêÂëòÔºåÂ¶ÇÊûúÂÆÉ‰ª¨Êú™Âú®Á±ªÂÜÖË¢´ÂàùÂßãÂåñÔºåÈÇ£‰πàÂÆÉ‰ª¨ÁöÑÂÄº‰πüÊòØÊú™ÂÆö‰πâÁöÑ„ÄÇ</p>
<p>ÊâÄ‰ª•ÔºåÂá∫‰∫é‰∏éÂèòÈáèÂàùÂßãÂåñÁõ∏ÂêåÁöÑÂéüÂõ†Ôºå<strong>ÂØπÂä®ÊÄÅÂàÜÈÖçÁöÑÂØπË±°ËøõË°åÂàùÂßãÂåñÈÄöÂ∏∏ÊòØ‰∏™Â•Ω‰∏ªÊÑè</strong></p></blockquote>
<p>ËøôÈáåÂ∞±Êúâ‰∏Ä‰∏™‚ÄúÈ™öÊìç‰Ωú‚ÄùÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">auto</span> <span class="n">p_1</span> <span class="o">=</span> <span class="k">new</span> <span class="k">auto</span><span class="p">(</span><span class="n">obj</span><span class="p">);</span> <span class="c1">// ‰ªéobjÈÇ£ÈáåÊé®Êñ≠ÊÉ≥Ë¶ÅÂàÜÈÖçÁöÑÂØπË±°ÁöÑÁ±ªÂûã
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">auto</span> <span class="n">p_2</span> <span class="o">=</span> <span class="k">new</span> <span class="k">auto</span><span class="p">{</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">};</span> <span class="c1">// ÈîôËØØÔºåÊã¨Âè∑‰∏≠Âè™ËÉΩÊúâÂçï‰∏™ÂàùÂßãÂåñÂô®
</span></span></span></code></pre></td></tr></table>
</div>
</div><h4 id="Âä®ÊÄÅÂàÜÈÖçÁöÑconstÂØπË±°">Âä®ÊÄÅÂàÜÈÖçÁöÑconstÂØπË±°
</h4><p>Á±ª‰ººÂÖ∂‰ªñ‰ªª‰ΩïconstÂØπË±°Ôºå‰∏Ä‰∏™Âä®ÊÄÅÂàÜÈÖçÁöÑconstÂØπË±°ÂøÖÈ°ªËøõË°åÂàùÂßãÂåñ„ÄÇÂØπ‰∫é‰∏Ä‰∏™ÂÆö‰πâ‰∫ÜÈªòËÆ§ÊûÑÈÄ†ÂáΩÊï∞ÁöÑÁ±ªÁ±ªÂûãÔºåÂÖ∂constÂä®ÊÄÅÂØπË±°ÂèØ‰ª•ÈöêÂºèÂàùÂßãÂåñ„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">const</span> <span class="kt">int</span><span class="o">*</span> <span class="n">P_c_i</span> <span class="o">=</span> <span class="k">new</span> <span class="k">const</span> <span class="kt">int</span><span class="p">(</span><span class="mi">1024</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">const</span> <span class="n">string</span><span class="o">*</span> <span class="n">p_c_s</span> <span class="o">=</span> <span class="k">new</span> <span class="k">const</span> <span class="n">string</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="ÂÜÖÂ≠òËÄóÂ∞Ω">ÂÜÖÂ≠òËÄóÂ∞Ω
</h4><p>Â¶ÇÊûúËá™Áî±Á©∫Èó¥ÔºàÂ†ÜÁ©∫Èó¥ÔºâËµÑÊ∫êËÄóÂ∞ΩÔºånewË°®ËææÂºèÂ∞Ü‰ºöÂ§±Ë¥•ÔºåÂπ∂ÊäõÂá∫<code>bad_alloc</code>ÂºÇÂ∏∏„ÄÇÂèØ‰ª•ÊîπÂèònewÊñπÂºèÈòªÊ≠¢ÂÖ∂ÊäõÂá∫ÂºÇÂ∏∏Ôºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kt">int</span> <span class="o">*</span><span class="n">p_1</span> <span class="o">=</span> <span class="k">new</span> <span class="p">(</span><span class="n">nothrow</span><span class="p">)</span> <span class="kt">int</span><span class="p">;</span> <span class="c1">// Â¶ÇÊûúÂàÜÈÖçÂ§±Ë¥•ÔºånewËøîÂõû‰∏Ä‰∏™Á©∫ÊåáÈíà
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>ÂØπ‰∏äËø∞‰ª£Á†Å‰∏≠ÂΩ¢ÂºèÁöÑnewÁß∞‰∏∫<strong>ÂÆö‰Ωçnew</strong>Ôºàplacement newÔºâ„ÄÇÂÆö‰ΩçnewË°®ËææÂºèÂÖÅËÆ∏Êàë‰ª¨Âêënew‰º†ÈÄíÈ¢ùÂ§ñÁöÑÂèÇÊï∞„ÄÇ‰∏äËø∞Êàë‰ª¨Âêënew‰º†ÈÄí‰∏Ä‰∏™Áî±Ê†áÂáÜÂ∫ìÂÆö‰πâÁöÑnothrowÂØπË±°ÔºåÂëäËØâÂÆÉ‰∏çËÉΩÊäõÂá∫ÂºÇÂ∏∏„ÄÇbad_allocÂíånothrowÈÉΩÂÆö‰πâÂú®newÂ§¥Êñá‰ª∂‰∏≠„ÄÇ</p>
<h4 id="ÈáäÊîæÂä®ÊÄÅÂÜÖÂ≠ò">ÈáäÊîæÂä®ÊÄÅÂÜÖÂ≠ò
</h4><p>‰º†ÈÄíÁªôdeleteÁöÑÊåáÈíàÂøÖÈ°ªÊåáÂêëÂä®ÊÄÅÂàÜÈÖçÁöÑÂÜÖÂ≠òÔºåÊàñËÄÖÊòØ‰∏Ä‰∏™Á©∫ÊåáÈíà„ÄÇÈáäÊîæ‰∏ÄÂùóÂπ∂ÈùûnewÂàÜÈÖçÁöÑÂÜÖÂ≠òÔºåÊàñËÄÖÂ∞ÜÁõ∏ÂêåÁöÑÊåáÈíàÂÄºÈáäÊîæÂ§öÊ¨°ÔºåÂÖ∂Ë°å‰∏∫ÈÉΩÊòØÊú™ÂÆö‰πâÁöÑ„ÄÇ</p>
<p>ËôΩÁÑ∂‰∏Ä‰∏™constÂØπË±°ÁöÑÂÄº‰∏çËÉΩË¢´ÊîπÂèòÔºå‰ΩÜÊòØÂÖ∂Êú¨Ë∫´ÊòØÂèØ‰ª•Ë¢´ÈîÄÊØÅÁöÑ„ÄÇ</p>
<blockquote>
<p>Áî±ÂÜÖÁΩÆÊåáÈíàÔºàËÄå‰∏çÊòØÊô∫ËÉΩÊåáÈíàÔºâÁÆ°ÁêÜÁöÑÂä®ÊÄÅÂÜÖÂ≠òÂú®‰ºöË¢´ÊòæÂºèÈáäÊîæÂâç‰∏ÄÁõ¥ÈÉΩ‰ºöÂ≠òÂú®</p>
<p>ÊâÄ‰ª•ÔºåÂä®ÊÄÅÂÜÖÂ≠òÁöÑÁÆ°ÁêÜÈùûÂ∏∏ÂÆπÊòìÂá∫Èîô„ÄÇ</p>
<p>‰ΩøÁî®newÂíådeleteÁÆ°ÁêÜÂä®ÊÄÅÂÜÖÂ≠òÂ≠òÂú®‰∏â‰∏™Â∏∏ËßÅÈóÆÈ¢òÔºö</p>
<ol>
<li>ÂøòËÆ∞deleteÂÜÖÂ≠ò„ÄÇÂøòËÆ∞ÈáäÊîæÂä®ÊÄÅÂÜÖÂ≠ò‰ºöÂØºËá¥‚ÄúÂÜÖÂ≠òÊ≥ÑÈú≤‚ÄùÈóÆÈ¢òÔºåÂõ†‰∏∫ËøôÁßçÂÜÖÂ≠òÊ∞∏Ëøú‰∏çÂèØËÉΩË¢´ÂΩíËøòÁªôËá™Áî±Á©∫Èó¥„ÄÇÊü•ÊâæÂÜÖÂ≠òÊ≥ÑÈú≤ÈîôËØØÊòØÈùûÂ∏∏Âõ∞ÈöæÁöÑÔºåÂõ†‰∏∫ÈÄöÂ∏∏Â∫îÁî®Á®ãÂ∫èËøêË°åÂæàÈïøÊó∂Èó¥ÂêéÔºåÁúüÊ≠£ËÄóÂ∞ΩÂÜÖÂ≠òÂêéÔºåÊâçËÉΩÊ£ÄÊµãÂà∞ËøôÁßçÈîôËØØ„ÄÇ</li>
<li>‰ΩøÁî®Â∑≤ÁªèÈáäÊîæÊéâÁöÑÂØπË±°„ÄÇÂç≥‚ÄúÁ©∫ÊåáÈíàÂºÇÂ∏∏‚Äù„ÄÇ</li>
<li>Âêå‰∏ÄÂùóÂÜÖÂ≠òË¢´ÈáäÊîæ‰∏§Ê¨°„ÄÇËøôÁßçÊÉÖÂÜµ‰∏ãËá™Áî±Á©∫Èó¥ÂèØËÉΩË¢´Á†¥ÂùèÊéâ„ÄÇ</li>
</ol>
<p>Áõ∏ÂØπ‰∫éÊü•ÊâæÂíå‰øÆÊ≠£Ëøô‰∫õÈîôËØØÊù•ËØ¥ÔºåÂà∂ÈÄ†Âá∫ÈîôËØØÁÆÄÂçïÂæàÂ§ö„ÄÇ</p></blockquote>
<p>ÂΩìdelete‰∏Ä‰∏™ÊåáÈíàÂêéÔºåÂÖ∂ÊåáÈíàÂÄºÊó†ÊïàÔºå‰ΩÜÊòØÊú∫Âô®‰∏äÊåáÈíà‰ªçÁÑ∂‰øùÂ≠òÂ∑≤ÈáäÊîæÂä®ÊÄÅÂÜÖÂ≠òÁöÑÂú∞ÂùÄ„ÄÇÂç≥<strong>Á©∫ÊÇ¨ÊåáÈíà</strong>Ôºàdangling pointerÔºâ„ÄÇ</p>
<p>Êú™ÂàùÂßãÂåñÊåáÈíàÁöÑÊâÄÊúâÁº∫ÁÇπÁ©∫ÊÇ¨ÊåáÈíà‰∏Ä‰∏™‰∏çËêΩ„ÄÇÂÖ∂‰∏≠‚ÄúÂú®ÊåáÈíàÂç≥Â∞ÜÁ¶ªÂºÄÂÖ∂‰ΩúÁî®ÂüüÂâçÈáäÊîæÊéâÂÆÉÊâÄÂÖ≥ËÅîÁöÑÂÜÖÂ≠ò‚ÄùÂèØ‰ª•‰Ωú‰∏∫‰∏ÄÁßçËß£ÂÜ≥ÊñπÊ°àÔºåÂ¶ÇÊûúÊÉ≥Ë¶Å‰øùÁïôÊåáÈíàÔºåÈúÄË¶ÅÂú®delete‰πãÂêénullptrËµã‰∫àÂÆÉÔºåËøôÊ†∑Ê∏ÖÊ•öÂú∞ÊåáÂá∫ÊåáÈíà‰∏çÊåáÂêë‰ªª‰ΩïÂØπË±°„ÄÇ</p>
<p>‰ΩÜËøô‰ªÖ‰ªÖÂÅöÂá∫‰∏ÄÁÇπÂ∞èÁöÑ‰øÆÂ§çÔºåÂä®ÊÄÅÂÜÖÂ≠òÁöÑÂè¶‰∏Ä‰∏™Âü∫Êú¨ÈóÆÈ¢òÊòØÂ≠òÂú®Â§ö‰∏™ÊåáÈíàÊåáÂêëÁõ∏ÂêåÂÜÖÂ≠òÁöÑÊÉÖÂÜµÔºå‰ªÖËß£ÂÜ≥ÂÖ∂‰∏≠‰∏Ä‰∏™ÊåáÈíàÔºåÂÖ∂‰ªñÊåáÈíà‰æùÊóßÂ≠òÂú®ÈóÆÈ¢ò„ÄÇ</p>
<p>ÊâÄ‰ª•Ôºå<strong>ÂØπ‰∫éÂä®ÊÄÅÂÜÖÂ≠òËØ∑Âä°ÂøÖ‰ΩøÁî®Êô∫ËÉΩÊåáÈíà</strong>ÔºÅ</p>
<h3 id="shared_ptrÂíånewÁöÑÁªìÂêà‰ΩøÁî®">shared_ptrÂíånewÁöÑÁªìÂêà‰ΩøÁî®
</h3><p>Â¶ÇÊûú‰∏çÂàùÂßãÂåñ‰∏Ä‰∏™Êô∫ËÉΩÊåáÈíàÔºåÈÇ£‰πàÂÆÉÂ∞±‰ºöË¢´ÂàùÂßãÂåñ‰∏∫‰∏Ä‰∏™Á©∫ÊåáÈíà„ÄÇÂÖ∂ÂÆûÔºåËøòÂèØ‰ª•Áî®newËøîÂõûÁöÑÊåáÈíàÊù•ÂàùÂßãÂåñÊô∫ËÉΩÊåáÈíà„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span> <span class="n">p1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">p2</span><span class="p">(</span><span class="k">new</span> <span class="kt">int</span><span class="p">(</span><span class="mi">42</span><span class="p">));</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Êé•ÂèóÊåáÈíàÂèÇÊï∞ÁöÑÊô∫ËÉΩÊåáÈíàÊûÑÈÄ†ÂáΩÊï∞ÊòØexplicitÁöÑÔºåÊâÄ‰ª•Ôºå‰∏çËÉΩÂ∞Ü‰∏Ä‰∏™ÂÜÖÁΩÆÊåáÈíàÈöêÂºèËΩ¨Êç¢‰∏∫‰∏Ä‰∏™Êô∫ËÉΩÊåáÈíàÔºåÂøÖÈ°ª‰ΩøÁî®Áõ¥Êé•ÂàùÂßãÂåñÂΩ¢Âºè„ÄÇÁõ∏ÂêåÁöÑÔºå‰∏çËÉΩÂ∞Ü‰∏Ä‰∏™Êô∫ËÉΩÊåáÈíà‰∏çËÉΩÈöêÂºèËΩ¨Êç¢‰∏∫ÂÜÖÁΩÆÊåáÈíà„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">p1</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="p">(</span><span class="mi">1024</span><span class="p">);</span> <span class="c1">//false ÂÜÖÁΩÆÊåáÈíàÈöêÂºèËΩ¨Êç¢‰∏∫Êô∫ËÉΩÊåáÈíà
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºå‰∏Ä‰∏™Áî®Êù•ÂàùÂßãÂåñÊô∫ËÉΩÊåáÈíàÁöÑÊôÆÈÄöÊåáÈíàÂøÖÈ°ªÊåáÂêëÂä®ÊÄÅÂÜÖÂ≠òÔºåÂõ†‰∏∫Êô∫ËÉΩÊåáÈíàÈªòËÆ§‰ΩøÁî®deleteÈáäÊîæÂÆÉÊâÄÂÖ≥ËÅîÁöÑÂØπË±°„ÄÇ</p>
<div class="table-wrapper"><table>
  <thead>
      <tr>
          <th style="text-align: center">ÂÆö‰πâÂíåÊîπÂèòshared_ptrÁöÑÂÖ∂‰ªñÊñπÊ≥ï</th>
          <th style="text-align: center">Ëß£Èáä</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: center">shared_ptr<T> p(q)</td>
          <td style="text-align: center">pÁÆ°ÁêÜÂÜÖÁΩÆÊåáÈíàqÊâÄÊåáÂêëÁöÑÂØπË±°ÔºõqÂøÖÈ°ªÊåáÂêënewÂàÜÈÖçÁöÑÂÜÖÂ≠òÔºå‰∏îËÉΩÂ§üËΩ¨Êç¢‰∏∫T*Á±ªÂûã</td>
      </tr>
      <tr>
          <td style="text-align: center">shared_ptr<T> p(u)</td>
          <td style="text-align: center">p‰ªéunique_ptr uÈÇ£ÈáåÊé•ÁÆ°‰∫ÜÂØπË±°ÁöÑÊâÄÊúâÊùÉÔºöÂ∞ÜuÁΩÆ‰∏∫Á©∫</td>
      </tr>
      <tr>
          <td style="text-align: center">shared_ptr<T> p(q,d)</td>
          <td style="text-align: center">pÊé•ÁÆ°‰∫ÜÂÜÖÁΩÆÊåáÈíàqÊâÄÊåáÂêëÁöÑÂØπË±°ÁöÑÊâÄÊúâÊùÉ„ÄÇqÂøÖÈ°ªËÉΩËΩ¨Êç¢‰∏∫T*Á±ªÂûã„ÄÇpÂ∞Ü‰ΩøÁî®ÂèØË∞ÉÁî®dÊù•‰ª£Êõødelete</td>
      </tr>
      <tr>
          <td style="text-align: center">shared_ptr<T> p(p2,d)</td>
          <td style="text-align: center">pÊòØshared_ptr p2ÁöÑÊã∑Ë¥ùÔºåÂîØ‰∏ÄÁöÑÂå∫Âà´ÊòØpÂ∞ÜÁî®ÂèØË∞ÉÁî®ÂØπË±°dÊù•‰ª£Êõødelete</td>
      </tr>
      <tr>
          <td style="text-align: center">p.reset()<br/>p.reset(q)<br/>p.reset(q,d)</td>
          <td style="text-align: center">Ëã•pÊòØÂîØ‰∏ÄÊåáÂêëÂÖ∂ÂØπË±°ÁöÑshared_ptr,reset‰ºöÈáäÊîæÊ≠§ÂØπË±°„ÄÇËã•‰º†ÈÄí‰∫ÜÂèØÈÄâÁöÑÂèÇÊï∞ÂÜÖÁΩÆÊåáÈíàq,‰ºö‰ª§pÊåáÂêëq,Âê¶Âàô‰ºöÂ∞ÜpÁΩÆ‰∏∫Á©∫„ÄÇËã•Ëøò‰º†ÈÄí‰∫ÜÂèÇÊï∞d,Â∞±‰ºöË∞ÉÁî®dËÄå‰∏çÊòØdeleteÊù•ÈáäÊîæq</td>
      </tr>
  </tbody>
</table></div>
<h4 id="‰∏çË¶ÅÊ∑∑Âêà‰ΩøÁî®ÊôÆÈÄöÊåáÈíàÂíåÊô∫ËÉΩÊåáÈíà">‰∏çË¶ÅÊ∑∑Âêà‰ΩøÁî®ÊôÆÈÄöÊåáÈíàÂíåÊô∫ËÉΩÊåáÈíà
</h4><p>shared_ptrÂèØ‰ª•ÂçèË∞ÉÂØπË±°ÁöÑÊûêÊûÑÔºå‰ΩÜËøô‰ªÖÈôê‰∫éÂÖ∂Ëá™Ë∫´ÁöÑÊã∑Ë¥ùÔºà‰πüÊòØshared_ptrÔºâ‰πãÈó¥„ÄÇËøôÂ∞±ÊòØÊé®Ëçê‰ΩøÁî®make_sharedËÄå‰∏çÊòØnewÁöÑÂéüÂõ†„ÄÇÂèØ‰ª•Âú®ÂàÜÈÖçÂØπË±°ÁöÑÂêåÊó∂Â∞±Â∞Üshared_ptr‰∏é‰πãÁªëÂÆöÔºå‰ªéËÄåÈÅøÂÖçÊó†ÊÑè‰∏≠Â∞ÜÂêå‰∏ÄÂùóÂÜÖÂ≠òÁªëÂÆöÂà∞Â§ö‰∏™Áã¨Á´ãÂàõÂª∫ÁöÑshared_ptr‰∏ä„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">process</span><span class="p">(</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">ptr</span><span class="p">){</span> <span class="c1">// ÂÄº‰º†ÈÄíÔºåptrÂºïÁî®ËÆ°Êï∞+1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">// ‰ΩøÁî®ptr
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span> <span class="c1">// ÈîÄÊØÅptr
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">p</span><span class="p">(</span><span class="k">new</span> <span class="kt">int</span><span class="p">(</span><span class="mi">42</span><span class="p">));</span> <span class="c1">// ÂºïÁî®ËÆ°Êï∞‰∏∫1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">process</span><span class="p">(</span><span class="n">p</span><span class="p">);</span> <span class="c1">// Âú®process‰∏≠ÂºïÁî®ËÆ°Êï∞‰∏∫2
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="o">*</span><span class="n">p</span><span class="p">;</span> <span class="c1">// Ê≠£Á°ÆÔºåÂºïÁî®ËÆ°Êï∞‰∏∫1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span><span class="o">*</span> <span class="nf">x</span><span class="p">(</span><span class="k">new</span> <span class="kt">int</span><span class="p">(</span><span class="mi">1024</span><span class="p">));</span> <span class="c1">// Âç±Èô©ÔºöxÊòØ‰∏Ä‰∏™ÊôÆÈÄöÊåáÈíà
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">process</span><span class="p">(</span><span class="n">x</span><span class="p">);</span> <span class="c1">// ÈîôËØØÔºåÊó†Ê≥ïÈöêÂºèËΩ¨Êç¢
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">process</span><span class="p">(</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">x</span><span class="p">));</span> <span class="c1">// ÂêàÊ≥ïÔºå‰∏¥Êó∂shared_ptrÔºåÂÜÖÂ≠ò‰ºöË¢´ÈáäÊîæ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="o">*</span><span class="n">x</span><span class="p">;</span> <span class="c1">//Êú™ÂÆö‰πâÔºöxÊòØ‰∏Ä‰∏™Á©∫ÊÇ¨ÊåáÈíàÔºÅ
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>ÂΩìÂ∞Ü‰∏Ä‰∏™shared_ptrÁªëÂÆöÂà∞‰∏Ä‰∏™ÊôÆÈÄöÊåáÈíàÊó∂ÔºåÊàë‰ª¨Â∞±Â∞ÜÂÜÖÂ≠òÁöÑÁÆ°ÁêÜË¥£‰ªª‰∫§Áªô‰∫ÜËøô‰∏™shared_ptr„ÄÇ‰∏ÄÊó¶ËøôÊ†∑ÂÅö‰∫ÜÔºåÊàë‰ª¨Â∞±‰∏çÂ∫îËØ•ÂÜç‰ΩøÁî®ÂÜÖÁΩÆÊåáÈíàÊù•ËÆøÈóÆshared_ptrÊâÄÊåáÂêëÁöÑÂÜÖÂ≠ò‰∫Ü„ÄÇ</p>
<blockquote>
<p>‰ΩøÁî®‰∏Ä‰∏™ÂÜÖÁΩÆÊåáÈíàËÆøÈóÆ‰∏Ä‰∏™Êô∫ËÉΩÊåáÈíàÊâÄË¥üË¥£ÁöÑÂØπË±°ÊòØÂç±Èô©ÁöÑÔºåÂõ†‰∏∫Êàë‰ª¨Êó†Ê≥ïÁü•ÈÅìÂØπË±°‰ΩïÊó∂Ë¢´ÈîÄÊØÅÔºÅ</p></blockquote>
<h4 id="‰∏çË¶Å‰ΩøÁî®getÂàùÂßãÂåñÂè¶‰∏Ä‰∏™Êô∫ËÉΩÊåáÈíàÊàñ‰∏∫Êô∫ËÉΩÊåáÈíàËµãÂÄº">‰∏çË¶Å‰ΩøÁî®getÂàùÂßãÂåñÂè¶‰∏Ä‰∏™Êô∫ËÉΩÊåáÈíàÊàñ‰∏∫Êô∫ËÉΩÊåáÈíàËµãÂÄº
</h4><p>Êô∫ËÉΩÊåáÈíàÁ±ªÂûãÂÆö‰πâ‰∫Ü‰∏Ä‰∏™getÂáΩÊï∞ÔºåÁî®‰∫éËøîÂõû‰∏Ä‰∏™ÊåáÂêë‚ÄúÊô∫ËÉΩÊåáÈíàÁÆ°ÁêÜÁöÑÂØπË±°‚ÄùÁöÑÂÜÖÁΩÆÊåáÈíà„ÄÇÊ≠§ÂáΩÊï∞ËÆæËÆ°ÁöÑÁõÆÁöÑÊòØÔºöÂ∞ÜÊåáÈíàÁöÑ<strong>ËÆøÈóÆÊùÉÈôê</strong>‰º†ÈÄíÁªô‰ª£Á†Å„ÄÇ<strong>‰ΩøÁî®getËøîÂõûÁöÑÊåáÈíàÁöÑ‰ª£Á†Å‰∏çËÉΩdeleteÊ≠§ÊåáÈíà</strong>„ÄÇ</p>
<p><strong>Â∞ÜÂè¶‰∏Ä‰∏™Êô∫ËÉΩÊåáÈíàÁªëÂÆöÂà∞getËøîÂõûÁöÑÊåáÈíà‰∏äÊòØÈîôËØØÁöÑ</strong>„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">p</span><span class="p">(</span><span class="k">new</span> <span class="kt">int</span><span class="p">(</span><span class="mi">42</span><span class="p">));</span> <span class="c1">// ÂºïÁî®ËÆ°Êï∞‰∏∫1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">int</span><span class="o">*</span> <span class="n">q</span><span class="o">=</span><span class="n">p</span><span class="p">.</span><span class="n">get</span><span class="p">();</span> <span class="c1">// ‰ΩøÁî®qÊó∂ÈúÄË¶ÅÊ≥®ÊÑèÔºå‰∏çË¶ÅËÆ©ÂÆÉÁÆ°ÁêÜÁöÑÊåáÈíàË¢´ÈáäÊîæ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">shared_ptr</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">q</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span> <span class="c1">// ÂΩìÁ®ãÂ∫èÂùóÁªìÊùüÔºåqË¢´ÈîÄÊØÅÔºåÂÆÉÊåáÂêëÁöÑÂÜÖÂ≠òË¢´ÈáäÊîæ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="o">*</span><span class="n">p</span><span class="p">;</span> <span class="c1">// ÈîôËØØÔºåpÊåáÂêëÁöÑÂÜÖÂ≠òÂ∑≤ÁªèË¢´ÈáäÊîæ
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>pÂíåqÊåáÂêëÁõ∏ÂêåÁöÑÂÜÖÂ≠ò„ÄÇÁî±‰∫é‰∫åËÄÖÁõ∏‰∫íÁã¨Á´ãÔºåÂõ†Ê≠§ÂêÑËá™ÂºïÁî®ËÆ°Êï∞‰∏∫1.ÂΩìqÊâÄÂú®Á®ãÂ∫èÂùóÁªìÊùüÔºåqË¢´ÈîÄÊØÅÔºåËøô‰ºöÂØºËá¥qÊåáÂêëÁöÑÂÜÖÂ≠òË¢´ÈáäÊîæ„ÄÇ‰ªéËÄåÂØºËá¥pÂèòÊàêÁ©∫ÊÇ¨ÊåáÈíàÔºåÂΩìÊÑèÂõæ‰ΩøÁî®pÊó∂ÔºåÂ∞ÜÂèëÁîü‰∏∫ÂÆö‰πâË°å‰∏∫„ÄÇÂêåÊó∂ÔºåÂΩìpË¢´ÈîÄÊØÅÊó∂ÔºåËøôÂùóÂÜÖÂ≠òÂ∞Ü‰ºöË¢´‰∫åÊ¨°delete„ÄÇ</p>
<h4 id="ÂÖ∂‰ªñshared_ptrÊìç‰Ωú">ÂÖ∂‰ªñshared_ptrÊìç‰Ωú
</h4><p>ÂèØ‰ª•‰ΩøÁî®resetÊù•Â∞Ü‰∏Ä‰∏™Êñ∞ÁöÑÊåáÈíàËµã‰∫à‰∏Ä‰∏™shared_ptrÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="n">p</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="p">(</span><span class="mi">1024</span><span class="p">);</span> <span class="c1">// false
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">p</span><span class="p">.</span><span class="n">reset</span><span class="p">(</span><span class="k">new</span> <span class="kt">int</span><span class="p">(</span><span class="mi">1024</span><span class="p">));</span> <span class="c1">// true
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>‰∏éËµãÂÄºÁ±ª‰ººÔºåreset‰ºöÊõ¥Êñ∞ÂºïÁî®ËÆ°Êï∞ÔºåÂ¶ÇÊûúÈúÄË¶ÅÁöÑËØùÔºå‰ºöÈáäÊîæpÊåáÂêëÁöÑÂØπË±°„ÄÇresetÊàêÂëòÁªèÂ∏∏‰∏éunique‰∏ÄËµ∑‰ΩøÁî®ÔºåÊù•ÊéßÂà∂Â§ö‰∏™shared_ptrÂÖ±‰∫´ÁöÑÂØπË±°„ÄÇ<strong>Âú®ÊîπÂèòÂ∫ïÂ±ÇÂØπË±°‰πãÂâçÔºåÈúÄË¶ÅÊ£ÄÊü•ÊòØÂê¶ÊòØÂΩìÂâçÂØπË±°‰ªÖÊúâÁöÑÁî®Êà∑</strong>„ÄÇÂ¶ÇÊûú‰∏çÊòØÔºåÂú®ÊîπÂèò‰πãÂâçÈúÄË¶ÅËøõË°å‰∏Ä‰ªΩÊã∑Ë¥ù„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">p</span><span class="p">.</span><span class="n">unique</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">	<span class="n">p</span><span class="p">.</span><span class="n">reset</span><span class="p">(</span><span class="k">new</span> <span class="n">string</span><span class="p">(</span><span class="o">*</span><span class="n">p</span><span class="p">));</span> <span class="c1">// ÂàÜÈÖçÊñ∞ÁöÑÊã∑Ë¥ù
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="o">*</span><span class="n">p</span> <span class="o">+=</span> <span class="n">newVal</span><span class="p">;</span> <span class="c1">// ÊòØÂîØ‰∏ÄÁöÑÁî®Êà∑ÔºåÂèØ‰ª•ÊîπÂèòÂØπË±°ÁöÑÂÄº
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="Êô∫ËÉΩÊåáÈíàÂíåÂºÇÂ∏∏">Êô∫ËÉΩÊåáÈíàÂíåÂºÇÂ∏∏
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">f_v1</span><span class="p">(){</span> 
</span></span><span class="line"><span class="cl">	<span class="n">shared_ptr</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">pt</span><span class="p">(</span><span class="k">new</span> <span class="kt">int</span><span class="p">(</span><span class="mi">42</span><span class="p">));</span><span class="c1">// ÂàÜÈÖç‰∏Ä‰∏™Êñ∞ÂØπË±°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">// Â¶ÇÊûúÂú®ËøôÈáåÊäõÂá∫ÂºÇÂ∏∏Ôºå‰∏îÂú®f‰∏≠Êú™Ë¢´ÊçïËé∑
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span> <span class="c1">// ÂáΩÊï∞ÁªìÊùüÊó∂Ôºåshared_ptr‰ªçÁÑ∂‰ºöËá™Âä®ÈáäÊîæÂÜÖÂ≠ò
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">f_v2</span><span class="p">(){</span>
</span></span><span class="line"><span class="cl">	<span class="kt">int</span><span class="o">*</span> <span class="n">p</span><span class="o">=</span><span class="k">new</span> <span class="kt">int</span><span class="p">(</span><span class="mi">42</span><span class="p">);</span> <span class="c1">// Âä®ÊÄÅÂàÜÈÖç‰∏Ä‰∏™Êñ∞ÂØπË±°
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">// Â¶ÇÊûúÂú®ËøôÈáåÊäõÂá∫ÂºÇÂ∏∏Ôºå‰∏îfÂπ∂Êú™ÊçïËé∑ÂºÇÂ∏∏
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="k">delete</span> <span class="n">p</span><span class="p">;</span> <span class="c1">// Âú®Ê≠§‰πãÂâçÈÄÄÂá∫ÔºåÂÜÖÂ≠òÊó†Ê≥ïË¢´ÈáäÊîæ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Êô∫ËÉΩÊåáÈíàÁ°Æ‰øù‰∫ÜÂÜÖÂ≠òÂú®‰∏çÈúÄË¶ÅÊó∂Â∞ÜÂÖ∂ÈáäÊîæÔºå‰ΩÜÊòØÂ¶ÇÊûúÊòØÂÜÖÁΩÆÊåáÈíàÂàô‰∏ç‰∏ÄÂÆöËÉΩÂ§üÊ≠£Â∏∏ÈáäÊîæ„ÄÇ</p>
<h4 id="Êô∫ËÉΩÊåáÈíàÂíåÂìëÁ±ª">Êô∫ËÉΩÊåáÈíàÂíåÂìëÁ±ª
</h4><p>ÂåÖÊã¨ÊâÄÊúâÊ†áÂáÜÂ∫ìÁ±ªÂú®ÂÜÖÁöÑÂæàÂ§öC++Á±ªÈÉΩÂÆö‰πâ‰∫ÜÊûêÊûÑÂáΩÊï∞ÔºåÈÄöËøáÊûêÊûÑÂáΩÊï∞Ê∏ÖÁêÜÂØπË±°‰ΩøÁî®ÁöÑËµÑÊ∫ê„ÄÇ‰ΩÜÊòØÂπ∂‰∏çÊòØÊâÄÊúâÁöÑÁ±ªÈÉΩÊòØËøôÊ†∑ËâØÂ•ΩÁöÑÂÆö‰πâÁöÑÔºåÂØπ‰∫éÊüê‰∫õÁ±ªÈúÄË¶ÅÁî®Êà∑ÊòæÂºèÂú∞ÈáäÊîæÊâÄ‰ΩøÁî®ÁöÑ‰ªª‰ΩïËµÑÊ∫ê„ÄÇÂØπ‰∫éËøôÁßçÁ±ªÁß∞‰∏∫<strong>ÂìëÁ±ª</strong>„ÄÇ</p>
<p>Âú®‰ΩøÁî®ÂìëÁ±ªÁöÑËøáÁ®ã‰∏≠ÔºåÂ¶ÇÊûúÁ®ãÂ∫èÂëòÂøòËÆ∞ÈáäÊîæËµÑÊ∫êÊàñËÄÖÂú®ËµÑÊ∫êÂàÜÈÖçÂíåÈáäÊîæ‰πãÈó¥ÂèëÁîüÂºÇÂ∏∏ÔºåÈÉΩ‰ºöÂØºËá¥ËµÑÊ∫êÊ≥ÑÈú≤„ÄÇÈÇ£‰πàÂü∫‰∫éËøôÁßçÊÉÖÂÜµÔºåÂèØ‰ª•‰ΩøÁî®Êô∫ËÉΩÊåáÈíàÁÆ°ÁêÜÂä®ÊÄÅÂÜÖÂ≠òÁöÑÁ±ª‰ººÊäÄÊúØÊù•ÁÆ°ÁêÜÂìëÁ±ª„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="c1">// ÂÅáËÆæÂ≠òÂú®‰∏Ä‰∏™ÁΩëÁªúÂ∫ìÔºåÂÖ∂‰∏≠connectionÊ≤°ÊúâÊûêÊûÑÂáΩÊï∞
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">struct</span> <span class="nc">destination</span><span class="p">;</span> <span class="c1">// Ë°®Á§∫ÈúÄË¶ÅËøûÊé•‰ªÄ‰πà
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">struct</span> <span class="nc">connection</span><span class="p">;</span>  <span class="c1">// ËøûÊé•ÊâÄÈúÄ‰ø°ÊÅØ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">connection</span> <span class="nf">connect</span><span class="p">(</span><span class="n">destination</span><span class="o">*</span><span class="p">);</span> <span class="c1">// ÊâìÂºÄËøûÊé•
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kt">void</span> <span class="nf">disconnect</span><span class="p">(</span><span class="n">connection</span><span class="p">);</span> <span class="c1">// ÂÖ≥Èó≠ÁªôÂÆöÁöÑËøûÊé•
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">f</span><span class="p">(</span><span class="n">destination</span> <span class="o">&amp;</span><span class="n">d</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// Ëé∑Âæó‰∏Ä‰∏™ËøûÊé•ÔºåÈúÄË¶ÅÊòæÂºèÂÖ≥Èó≠ÂÆÉ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="n">connction</span> <span class="n">c</span><span class="o">=</span> <span class="n">connect</span><span class="p">(</span><span class="o">&amp;</span><span class="n">d</span><span class="p">);</span> 
</span></span><span class="line"><span class="cl">	<span class="c1">// ‰ΩøÁî®ËøûÊé•
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="c1">// ÂøòËÆ∞Ë∞ÉÁî®disconnectÂáΩÊï∞ÂÖ≥Èó≠ËøûÊé•ÔºåÈÇ£‰πàfÂáΩÊï∞ÁªìÊùüÂ∞±Êó†Ê≥ïÂÖ≥Èó≠ÂÆÉ„ÄÇ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span> <span class="c1">// ËµÑÊ∫êÊ≥ÑÈú≤
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>ÂØπ‰∫é‰∏äËø∞Âá∫Áé∞ÁöÑÊÉÖÂÜµÔºåÈÄöËøá‰ΩøÁî®shared_ptr‰øÆÊîπÈªòËÆ§ÁöÑ<strong>Âà†Èô§Âô®</strong>ÂÆûÁé∞ÂØπconnectionÁöÑÊô∫ËÉΩÁÆ°ÁêÜÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">end_connection</span><span class="p">(</span><span class="n">connection</span><span class="o">*</span> <span class="n">p</span><span class="p">){</span><span class="n">disconnect</span><span class="p">(</span><span class="o">*</span><span class="n">p</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="kt">void</span> <span class="n">f</span><span class="p">(</span><span class="n">destination</span> <span class="o">&amp;</span><span class="n">d</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">	<span class="n">connection</span> <span class="n">c</span><span class="o">=</span><span class="n">connect</span><span class="p">(</span><span class="o">&amp;</span><span class="n">d</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">connection</span><span class="o">&gt;</span> <span class="n">p</span><span class="p">(</span><span class="o">&amp;</span><span class="n">c</span><span class="p">,</span><span class="n">end_connection</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span> <span class="c1">// ÂΩìpË¢´ÈîÄÊØÅÊó∂ÔºåË∞ÉÁî®disconnectÂáΩÊï∞Á°Æ‰øùËøûÊé•ÂÖ≥Èó≠
</span></span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>Ê≥®ÊÑèÔºöÊô∫ËÉΩÊåáÈíàÈô∑Èò±</p>
<p>‰∏∫‰∫ÜÊ≠£Á°Æ‰ΩøÁî®Êô∫ËÉΩÊåáÈíàÔºåÂøÖÈÄâÂùöÊåÅÁöÑ‰∏Ä‰∫õÂü∫Êú¨ËßÑËåÉÔºö</p>
<ul>
<li>‰∏ç‰ΩøÁî®Áõ∏ÂêåÁöÑÂÜÖÁΩÆÊåáÈíàÂàùÂßãÂåñÔºàÊàñresetÔºâ<strong>Â§ö‰∏™</strong>Êô∫ËÉΩÊåáÈíà</li>
<li>‰∏çdelete get()ËøîÂõûÁöÑÊåáÈíà</li>
</ul>
<blockquote>
<p>getÂáΩÊï∞‰ªÖÊòØ‰∏∫‰∫ÜÂ∞ÜÊô∫ËÉΩÊåáÈíàËÆøÈóÆÂÜÖÂ≠òÁöÑÊùÉÂäõÊöÇÊó∂Áªô‰∫àÂÜÖÁΩÆÊåáÈíà</p></blockquote>
<ul>
<li>‰∏ç‰ΩøÁî®get()ÂàùÂßãÂåñÊàñresetÂè¶‰∏Ä‰∏™Êô∫ËÉΩÊåáÈíà</li>
</ul>
<blockquote>
<p>get()Êú¨Ë¥®ÊòØÊüê‰∏™Êô∫ËÉΩÊåáÈíàÁöÑÂÜÖÁΩÆÊåáÈíàÂåñÔºåÂ¶ÇÊûúÂàùÂßãÂåñÊàñresetÁªôÂè¶‰∏Ä‰∏™Êô∫ËÉΩÊåáÈíà„ÄÇÂ∞ÜÂØºËá¥Âêå‰∏ÄÂùóÂä®ÊÄÅÂÜÖÂ≠òË¢´Â§ö‰∏™Êô∫ËÉΩÊåáÈíàÊâÄÁÆ°ÁêÜÔºåÂ∞ÜÂØºËá¥Âá∫Áé∞Á©∫ÊÇ¨ÊåáÈíà„ÄÅÂ§öÊ¨°deleteÁ≠âÈóÆÈ¢ò„ÄÇ</p></blockquote>
<ul>
<li>Â¶ÇÊûú‰Ω†‰ΩøÁî®get()ËøîÂõûÁöÑÊåáÈíàÔºåËÆ∞‰ΩèÂΩìÊúÄÂêé‰∏Ä‰∏™ÂØπÂ∫îÁöÑÊô∫ËÉΩÊåáÈíàÈîÄÊØÅÂêéÔºå‰Ω†ÁöÑÊåáÈíàÂ∞±Âèò‰∏∫Êó†Êïà‰∫Ü</li>
</ul>
<blockquote>
<p>get()‰ªÖ‰ªÖ‰Ωú‰∏∫Êô∫ËÉΩÊåáÈíàÂêëÂÜÖÁΩÆÊåáÈíà‰º†ÈÄíÊùÉÂäõÁöÑÂ∑•ÂÖ∑ÔºåÂΩìÊùÉÂäõÁöÑÊ∫êÂ§¥Â§±Êïà‰∫ÜËá™ÁÑ∂ÊâÄÂØπÂ∫îÁöÑÂÜÖÁΩÆÊåáÈíàÂ∞±Âèò‰∏∫Á©∫ÊÇ¨ÊåáÈíàÔºåÈúÄË¶ÅÂ∞ÜÂÜÖÁΩÆÊåáÈíàËµã‰∫ànullptr</p></blockquote>
<ul>
<li>Â¶ÇÊûú‰Ω†‰ΩøÁî®Êô∫ËÉΩÊåáÈíàÁÆ°ÁêÜÁöÑËµÑÊ∫ê‰∏çÊòØnewÂàÜÈÖçÁöÑÂÜÖÂ≠òÔºåËÆ∞‰Ωè‰º†ÈÄíÁªôÂÆÉ‰∏Ä‰∏™Âà†Èô§Âô®</li>
</ul>
<blockquote>
<p>Êô∫ËÉΩÊåáÈíàÈªòËÆ§Ë∞ÉÁî®deleteÊìç‰ΩúÈîÄÊØÅÂÜÖÂ≠ò</p></blockquote></blockquote>
<h3 id="unique_ptr">unique_ptr
</h3><p>‰∏Ä‰∏™‚Äúunique_ptr‚Äù‚ÄúÊã•Êúâ‚ÄùÂÆÉÊâÄÊåáÂêëÁöÑ‰∏Ä‰∏™ÂØπË±°„ÄÇ</p>
<div class="table-wrapper"><table>
  <thead>
      <tr>
          <th style="text-align: center">unique_ptrÁâπÊúâÊìç‰Ωú</th>
          <th style="text-align: center">Ëß£Èáä</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: center">unique_ptr<T> u1<br/>unique_ptr&lt;T,D&gt; u2</td>
          <td style="text-align: center">Á©∫unique_ptr,ÂèØ‰ª•ÊåáÂêëÁ±ªÂûã‰∏∫TÁöÑÂØπË±°„ÄÇu1‰ºö‰ΩøÁî®deleteÊù•ÈáäÊîæÂÆÉÁöÑÊåáÈíàÔºõu2‰ºö‰ΩøÁî®‰∏Ä‰∏™Á±ªÂûã‰∏∫DÁöÑÂèØË∞ÉÁî®ÂØπË±°Êù•ÈáäÊîæÂÆÉÁöÑÊåáÈíà</td>
      </tr>
      <tr>
          <td style="text-align: center">unique_ptr&lt;T,D&gt; u(d)</td>
          <td style="text-align: center">Á©∫unique_ptr,ÊåáÂêëÁ±ªÂûã‰∏∫TÁöÑÂØπË±°ÔºåÁî®Á±ªÂûã‰∏∫DÁöÑÂØπË±°d‰ª£Êõødelete</td>
      </tr>
      <tr>
          <td style="text-align: center">u=nullptr</td>
          <td style="text-align: center">ÈáäÊîæuÊåáÂêëÁöÑÂØπË±°ÔºåÂ∞ÜuÁΩÆ‰∏∫Á©∫</td>
      </tr>
      <tr>
          <td style="text-align: center">u.release</td>
          <td style="text-align: center">uÊîæÂºÉÂØπÊåáÈíàÁöÑÊéßÂà∂ÊùÉÔºå<strong>ËøîÂõûÊåáÈíà</strong>Âπ∂Â∞ÜuÁΩÆ‰∏∫Á©∫</td>
      </tr>
      <tr>
          <td style="text-align: center">u.reset()</td>
          <td style="text-align: center">ÈáäÊîæuÊåáÂêëÁöÑÂØπË±°</td>
      </tr>
      <tr>
          <td style="text-align: center">u.reset(q)<br/>u.reset(nullptr)</td>
          <td style="text-align: center">Â¶ÇÊûúÊèê‰æõ‰∫ÜÂÜÖÁΩÆÊåáÈíàq,‰ª§uÊåáÂêëËøô‰∏™ÂØπË±°ÔºõÂê¶ÂàôÂ∞ÜuÁΩÆ‰∏∫Á©∫</td>
      </tr>
  </tbody>
</table></div>
<p>Êó†Ê≥ï‰ΩøÁî®Á±ª‰ººmake_sharedÁöÑÊ†áÂáÜÂ∫ìÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™unique_ptr„ÄÇÊâÄ‰ª•ÂΩìÂÆö‰πâ‰∏Ä‰∏™unique_ptrÊó∂ÔºåÈúÄË¶ÅÁªëÂÆöÂà∞‰∏Ä‰∏™newËøîÂõûÁöÑÊåáÈíà‰∏ä„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="n">unique_ptr</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">p</span><span class="p">(</span><span class="k">new</span> <span class="kt">int</span><span class="p">(</span><span class="mi">42</span><span class="p">));</span> 
</span></span></code></pre></td></tr></table>
</div>
</div><p>Áî±‰∫éunique_ptrÊã•ÊúâÂÆÉÊåáÂêëÁöÑÂØπË±°ÔºåÊâÄ‰ª•unique_ptr‰∏çÊîØÊåÅÊôÆÈÄöÁöÑÊã∑Ë¥ùÊàñËµãÂÄºÊìç‰Ωú</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="n">unique_ptr</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">p1</span><span class="p">(</span><span class="k">new</span> <span class="kt">int</span><span class="p">(</span><span class="mi">42</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="n">unique_ptr</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">p2</span><span class="p">(</span><span class="n">p1</span><span class="p">);</span> <span class="c1">// false
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">unique_ptr</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">p3</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="n">p3</span><span class="o">=</span><span class="n">p1</span><span class="p">;</span> <span class="c1">// false
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>‰ΩÜÊòØÂèØ‰ª•ÈÄöËøáreleaseÊàñresetÂÆûÁé∞ÊåáÈíàÊéßÂà∂ÊùÉÁöÑËΩ¨ÁßªÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="c1">// Â∞ÜÊéßÂà∂ÊùÉ‰ªép1ËΩ¨ÁßªÂà∞p2
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">unique_ptr</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">p2</span><span class="p">(</span><span class="n">p1</span><span class="p">.</span><span class="n">release</span><span class="p">());</span> <span class="c1">// releaseÂ∞Üp1ÁΩÆ‰∏∫Á©∫Ôºå‰∏îËøîÂõûÊåáÈíà
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">unique_ptr</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">p3</span><span class="p">(</span><span class="k">new</span> <span class="kt">int</span><span class="p">(</span><span class="mi">42</span><span class="p">));</span>
</span></span><span class="line"><span class="cl"><span class="c1">// Â∞ÜÊéßÂà∂ÊùÉ‰ªép3ËΩ¨ÁßªÂà∞p2
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">p2</span><span class="p">.</span><span class="n">reset</span><span class="p">(</span><span class="n">p3</span><span class="p">.</span><span class="n">release</span><span class="p">());</span> <span class="c1">// resetÈáäÊîæp2ÂéüÊú¨ÊåáÂêëÂÜÖÂ≠ò
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Ë∞ÉÁî®releaseÂáΩÊï∞‰ºöÂàáÊñ≠unique_ptrÂíåÂÆÉÂéüÊú¨ÁÆ°ÁêÜÁöÑÂØπË±°Èó¥ÁöÑËÅîÁ≥ª„ÄÇreleaseËøîÂõûÁöÑÊåáÈíàÔºà‰∏ÄËà¨‰∏∫ÂÜÖÁΩÆÊåáÈíàÔºâÈÄöÂ∏∏Ë¢´Áî®Êù•ÂàùÂßãÂåñÂè¶‰∏Ä‰∏™Êô∫ËÉΩÊåáÈíàÊàñÁªôÂè¶‰∏Ä‰∏™Êô∫ËÉΩÊåáÈíàËµãÂÄº„ÄÇËøô‰ªÖ‰ªÖÊòØÁÆÄÂçïÁöÑÊùÉÂäõ‰∫§Êé•Ôºå‰ΩÜÊòØÔºåÂ¶ÇÊûú‰∏çÁî®‰∏Ä‰∏™Êô∫ËÉΩÊåáÈíà‰øùÂ≠òreleaseËøîÂõûÁöÑÊåáÈíàÔºåÂàôÈúÄË¶ÅË¥üË¥£ËµÑÊ∫êÁöÑÈáäÊîæ„ÄÇ</p>
<p>‰∏çËÉΩÊã∑Ë¥ùunique_ptrËßÑÂàôÁöÑ‰∏Ä‰∏™‰æãÂ§ñÔºöÂèØ‰ª•Êã∑Ë¥ùÊàñËµãÂÄº‰∏Ä‰∏™Â∞ÜË¶ÅË¢´ÈîÄÊØÅÁöÑunique_ptrÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="n">unique_ptr</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">clone</span><span class="p">(</span><span class="kt">int</span> <span class="n">p</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="n">unique_ptr</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="k">new</span> <span class="kt">int</span><span class="p">(</span><span class="n">p</span><span class="p">));</span> <span class="c1">// ‰ªéint*ÂàõÂª∫‰∏Ä‰∏™unique_ptr&lt;int&gt;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">unique_ptr</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">clone</span><span class="p">(</span><span class="kt">int</span> <span class="n">p</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">	<span class="n">unique_ptr</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">ret</span><span class="p">(</span><span class="k">new</span> <span class="kt">int</span><span class="p">(</span><span class="n">p</span><span class="p">));</span>
</span></span><span class="line"><span class="cl">	<span class="c1">// ...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>	<span class="k">return</span> <span class="n">ret</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÁºñËØëÂô®Áü•ÈÅìË¶ÅËøîÂõûÁöÑÂØπË±°Â∞ÜË¶ÅË¢´ÈîÄÊØÅÔºåÊâÄ‰ª•Âú®ËøôÁßçÁâπÊÆäÁöÑÊÉÖÂÜµ‰∏ãÔºåÁºñËØëÂô®ÊâßË°å‰∏ÄÁßçÁâπÊÆäÁöÑ‚ÄúÊã∑Ë¥ù‚Äù„ÄÇ</p>
<h4 id="Âêëunique_ptr‰º†ÈÄíÂà†Èô§Âô®">Âêëunique_ptr‰º†ÈÄíÂà†Èô§Âô®
</h4><p>Á±ª‰ºº‰∫éshared_ptr,unique_ptrÈªòËÆ§ÊÉÖÂÜµ‰∏ãÁî®deleteÈáäÊîæÂÖ∂ÂØπË±°Ôºå‰πüÂèØ‰ª•ÈáçËΩΩunique_ptr‰∏≠ÁöÑÈªòËÆ§Âà†Èô§Âô®„ÄÇ‰ΩÜÊòØ,unique_ptrÁÆ°ÁêÜÂà†Èô§Âô®ÁöÑÊñπÂºè‰∏éshared_ptr‰∏çÂêå„ÄÇ</p>
<p>ÈáçËΩΩ‰∏Ä‰∏™unique_ptr‰∏≠ÁöÑÂà†Èô§Âô®‰ºöÂΩ±ÂìçÂà∞unique_ptrÁ±ªÂûã‰ª•ÂèäÂ¶Ç‰ΩïÊûÑÈÄ†ËØ•Á±ªÂûãÁöÑÂØπË±°„ÄÇÊâÄ‰ª•ÂøÖÈ°ªÂú®Â∞ñÊã¨Âè∑‰∏≠unique_ptrÊåáÂêëÁ±ªÂûã‰πãÂêéÊèê‰æõÂà†Èô§Âô®Á±ªÂûã„ÄÇÂú®ÂàõÂª∫Êàñreset‰∏Ä‰∏™ËøôÁßçunique_ptrÁ±ªÂûãÁöÑÂØπË±°Êó∂ÔºåÂøÖÈ°ªÊèê‰æõ‰∏Ä‰∏™ÊåáÂêëÁ±ªÂûãÁöÑÂèØË∞ÉÁî®ÂØπË±°ÔºàÂà†Èô§Âô®ÔºâÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="n">unique_ptr</span><span class="o">&lt;</span><span class="n">objT</span><span class="p">,</span><span class="n">delT</span><span class="o">&gt;</span> <span class="n">p</span><span class="p">(</span><span class="k">new</span> <span class="n">objT</span><span class="p">,</span><span class="n">fun</span><span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>‰æãÂ¶ÇÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kt">void</span> <span class="nf">f</span><span class="p">(</span><span class="n">Destination</span> <span class="o">&amp;</span><span class="n">d</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">	<span class="n">Connection</span> <span class="n">c</span> <span class="o">=</span> <span class="n">connect</span><span class="p">(</span><span class="o">&amp;</span><span class="n">d</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	<span class="n">unique_ptr</span><span class="o">&lt;</span><span class="n">Connection</span><span class="p">,</span> <span class="k">decltype</span><span class="p">(</span><span class="n">end_connection</span><span class="p">)</span><span class="o">*&gt;</span> <span class="n">p</span> <span class="p">(</span><span class="o">&amp;</span><span class="n">c</span><span class="p">,</span><span class="n">end_connection</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="weak_ptr">weak_ptr
</h3><p>weak_ptrÊòØ‰∏ÄÁßç‰∏çÊéßÂà∂ÊâÄÊåáÂêëÂØπË±°ÁîüÂ≠òÂë®ÊúüÁöÑÊô∫ËÉΩÊåáÈíàÔºåÂÆÉÊåáÂêëÁî±‰∏Ä‰∏™shared_ptrÁÆ°ÁêÜÁöÑÂØπË±°„ÄÇÂÖ∂ÂÖ∑Êúâ**‚ÄúÂº±‚ÄùÂÖ±‰∫´ÂØπË±°**ÁöÑÁâπÁÇπÔºö<strong>ÁªëÂÆö</strong>Âà∞Êüê‰∏™shared_ptr‰∏äÂπ∂‰∏ç‰ºöÊîπÂèòËØ•shared_ptrÂºïÁî®ËÆ°Êï∞ÔºõÂç≥‰Ωøweak_ptrËøòÊåáÂêëÊüê‰∏™ÂØπË±°ÔºåÂΩìÊåáÂêëËØ•ÂØπË±°ÁöÑshared_ptrË¢´ÈîÄÊØÅÊó∂ÔºåËØ•ÂØπË±°‰πü‰ºöË¢´ÈáäÊîæ„ÄÇÂπ∂‰∏ç‰ºöÂõ†‰∏∫weak_ptrÂÖ≥Á≥ªËÄå‰∏çÈáäÊîæ„ÄÇ</p>
<div class="table-wrapper"><table>
  <thead>
      <tr>
          <th style="text-align: center">weak_ptr</th>
          <th style="text-align: center">Ëß£Èáä</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: center">weak_ptr<T> w</td>
          <td style="text-align: center">Á©∫weak_ptrÂèØ‰ª•ÊåáÂêëÁ±ªÂûã‰∏∫TÁöÑÂØπË±°</td>
      </tr>
      <tr>
          <td style="text-align: center">weak_ptr<T> w(sp)</td>
          <td style="text-align: center">‰∏éshared_ptrÊåáÂêëÁõ∏ÂêåÂØπË±°ÁöÑweak_ptr„ÄÇTÂøÖÈ°ªËÉΩËΩ¨Êç¢‰∏∫spÊåáÂêëÁöÑÁ±ªÂûã</td>
      </tr>
      <tr>
          <td style="text-align: center">w=p</td>
          <td style="text-align: center">pÂèØ‰ª•ÊòØ‰∏Ä‰∏™shared_ptrÊàñ‰∏Ä‰∏™weak_ptr„ÄÇËµãÂÄºÂêéw‰∏épÂÖ±‰∫´ÂØπË±°</td>
      </tr>
      <tr>
          <td style="text-align: center">w.reset()</td>
          <td style="text-align: center">Â∞ÜwÁΩÆ‰∏∫Á©∫</td>
      </tr>
      <tr>
          <td style="text-align: center">w.use_count()</td>
          <td style="text-align: center">‰∏éwÂÖ±‰∫´ÂØπË±°ÁöÑshared_ptrÁöÑÊï∞Èáè</td>
      </tr>
      <tr>
          <td style="text-align: center">w.expired()</td>
          <td style="text-align: center">Ëã•w.use_count()‰∏∫0,ËøîÂõûtrue,Âê¶ÂàôËøîÂõûfalse</td>
      </tr>
      <tr>
          <td style="text-align: center">w.lock()</td>
          <td style="text-align: center">Â¶ÇÊûúexpired‰∏∫trueÔºåËøîÂõû‰∏Ä‰∏™Á©∫shared_ptrÔºõÂê¶ÂàôËøîÂõû‰∏Ä‰∏™ÊåáÂêëwÁöÑÂØπË±°ÁöÑshared_ptr</td>
      </tr>
  </tbody>
</table></div>
<p>Áî±‰∫éweak_ptr‚ÄúÂº±‚ÄùÂÖ±‰∫´ÁöÑÁâπÊÄßÔºåÂ≠òÂú®weak_ptrÊåáÂêëÂÜÖÂ≠òÂ∑≤ÁªèË¢´ÈáäÊîæÊÉÖÂÜµ„ÄÇÊâÄ‰ª•Ôºåweak_ptr‰∏çËÉΩÁõ¥Êé•ËÆøÈóÆÂØπË±°ÔºåÈúÄË¶ÅË∞ÉÁî®lockÂáΩÊï∞Ê£ÄÊü•weak_ptrÊåáÂêëÂØπË±°ÊòØÂê¶Â≠òÂú®ÔºåÂ¶ÇÊûúÂ≠òÂú®ËøîÂõûÊåáÂêëÂÖ±‰∫´ÂÜÖÂ≠òÁöÑshared_ptr„ÄÇ</p>
<h2 id="122-Âä®ÊÄÅÊï∞ÁªÑ">12.2 Âä®ÊÄÅÊï∞ÁªÑ
</h2><p>C++‰∏éÊ†áÂáÜÂ∫ìÊèê‰æõ‰∏§Áßç‰∏ÄÊ¨°ÂàÜÈÖç‰∏Ä‰∏™ÂØπË±°Êï∞ÁªÑÁöÑÊñπÊ≥ï„ÄÇ‰∏ÄÁßçÈááÁî®newË°®ËææÂºèÔºåÂèØ‰ª•ÂàÜÈÖçÂπ∂ÂàùÂßãÂåñ‰∏Ä‰∏™ÂØπË±°Êï∞ÁªÑÔºõÂè¶‰∏ÄÁßçÈááÁî®allocatorÁ±ªÔºåÂÖÅËÆ∏Â∞ÜÂàÜÈÖçÂíåÂàùÂßãÂåñÂàÜÁ¶ª„ÄÇ</p>
<blockquote>
<p>Ê≥®ÊÑèÔºöÂ∞ΩÁÆ°Êèê‰æõÁõ¥Êé•ËÆøÈóÆÂä®ÊÄÅÊï∞ÁªÑÁöÑÊñπÊ≥ïÔºå‰ΩÜÊòØÂ§ßÂ§öÊï∞Â∫îÁî®Â∫îËØ•‰ΩøÁî®Ê†áÂáÜÂ∫ìÂÆπÂô®ËÄå‰∏çÊòØÂä®ÊÄÅÂàÜÈÖçÊï∞ÁªÑ„ÄÇ</p></blockquote>
<h3 id="newÂíåÊï∞ÁªÑ">newÂíåÊï∞ÁªÑ
</h3><p>ÂàÜÈÖçÊï∞ÁªÑÂøÖÈ°ªÊåáÊòéÂØπË±°ÂÖÉÁ¥†ÁöÑÊï∞ÈáèÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kt">int</span> <span class="o">*</span><span class="n">p_1</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="p">[</span><span class="n">get_size</span><span class="p">()];</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ÊàñËÄÖ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">typedef</span> <span class="kt">int</span> <span class="n">arrT</span><span class="p">[</span><span class="mi">42</span><span class="p">];</span>
</span></span><span class="line"><span class="cl"><span class="kt">int</span> <span class="o">*</span><span class="n">p_2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">arrT</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>ÂàÜÈÖç‰∏Ä‰∏™Êï∞ÁªÑ‰ºöÂæóÂà∞‰∏Ä‰∏™ÂÖÉÁ¥†Á±ªÂûãÁöÑÊåáÈíà„ÄÇÂêåÊó∂Áî±‰∫éÂàÜÈÖçÁöÑÂÜÖÂ≠òÂπ∂‰∏çÊòØÊï∞ÁªÑÁ±ªÂûãÔºåÊâÄ‰ª•‰∏çËÉΩË∞ÉÁî®beginÊàñËÄÖend„ÄÇ</p>
<p>ÂàùÂßãÂåñÂä®ÊÄÅÂàÜÈÖçÂØπË±°ÁöÑÊï∞ÁªÑÔºå‰ΩøÁî®newÂàÜÈÖçÁöÑÂØπË±°Ôºå‰∏çËÆ∫ÊòØÂçï‰∏™ÂàÜÈÖçËøòÊòØÊï∞ÁªÑ‰∏≠ÁöÑÔºåÈÉΩÊòØÈªòËÆ§ÂàùÂßãÂåñ„ÄÇÂèØ‰ª•ÂØπÊï∞ÁªÑ‰∏≠ÁöÑÂÖÉÁ¥†ËøõË°åÂÄºÂàùÂßãÂåñÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="kt">int</span> <span class="o">*</span><span class="n">p_3</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="p">[</span><span class="mi">10</span><span class="p">]();</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>‰πüÂèØ‰ª•Êèê‰æõ‰∏Ä‰∏™ÂÖÉÁ¥†ÂàùÂßãÂåñÂô®ÁöÑËä±Êã¨Âè∑ÂàóË°®Ôºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="n">string</span> <span class="o">*</span><span class="n">p_4</span> <span class="o">=</span> <span class="k">new</span> <span class="n">string</span><span class="p">[</span><span class="mi">10</span><span class="p">]{</span><span class="s">&#34;a&#34;</span><span class="p">,</span><span class="s">&#34;b&#34;</span><span class="p">,</span><span class="s">&#34;c&#34;</span><span class="p">,</span><span class="n">string</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="s">&#34;d&#34;</span><span class="p">)};</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Â¶ÇÊûúÂàùÂßãÂåñÂô®Êï∞ÁõÆÂ∞è‰∫éÂÖÉÁ¥†Êï∞ÁõÆÔºåÂâ©‰ΩôÂÖÉÁ¥†ËøõË°åÂÄºÂàùÂßãÂåñÔºõÂ¶ÇÊûúÂ§ß‰∫éÔºåÂàônewË°®ËææÂºèÂ§±Ë¥•Ôºå‰∏ç‰ºöÂàÜÈÖç‰ªª‰ΩïÂÜÖÂ≠ò‰∏îÊäõÂá∫bad_array_new_lengthÔºàÂÆö‰πâÂú®new‰∏≠ÔºâÁöÑÂºÇÂ∏∏„ÄÇ</p>
<p><strong>Âä®ÊÄÅÂàÜÈÖç‰∏Ä‰∏™Á©∫Êï∞ÁªÑÊòØÂêàÊ≥ïÁöÑ</strong>Ôºå‰ΩÜÊòØÊåáÂêëËØ•Á©∫Êï∞ÁªÑÁöÑÊåáÈíà‰∏çËÉΩËß£ÂºïÁî®„ÄÇ</p>
<p>ÈáäÊîæÂä®ÊÄÅÊï∞ÁªÑÂàôÈááÁî®ÁâπÊÆäÂΩ¢ÂºèÁöÑdeleteÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">delete</span> <span class="p">[]</span> <span class="o">*</span><span class="n">p_5</span><span class="p">;</span> <span class="c1">// Á©∫Êã¨Âè∑ÊòØÂøÖÈúÄÁöÑÔºåÂÖ∂ÊåáÁ§∫ÁºñËØëÂô®Ê≠§ÊåáÈíàÊåáÂêë‰∏Ä‰∏™ÂØπË±°Êï∞ÁªÑÁöÑÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>ËØ•deleteËØ≠Âè•Â∞ÜÈîÄÊØÅp_5ÊåáÂêëÁöÑÊï∞ÁªÑ‰∏≠ÂÖÉÁ¥†Âπ∂ÈáäÊîæÂÜÖÂ≠ò„ÄÇÊï∞ÁªÑ‰∏≠ÁöÑÂÖÉÁ¥†ÊåâÁÖßÈÄÜÂ∫èÈîÄÊØÅ„ÄÇ</p>
<blockquote>
<p>Â¶ÇÊûúÂú®delete‰∏Ä‰∏™Êï∞ÁªÑÊåáÈíàÊó∂ÂøòËÆ∞ÊñπÊã¨Âè∑ÊàñËÄÖdelete‰∏Ä‰∏™Âçï‰∏ÄÂØπË±°ÁöÑÊåáÈíàÊó∂‰ΩøÁî®‰∫ÜÊñπÊã¨Âè∑ÈÉΩÊòØÊú™ÂÆö‰πâÁöÑ„ÄÇÁºñËØëÂô®ÂæàÂèØËÉΩ‰∏ç‰ºöÁªôÂá∫Ë≠¶Âëä„ÄÇÁ®ãÂ∫èÂèØËÉΩÂú®ÊâßË°åËøáÁ®ã‰∏≠Âú®Ê≤°Êúâ‰ªª‰ΩïË≠¶ÂëäÁöÑÊÉÖÂÜµ‰∏ãË°å‰∏∫ÂºÇÂ∏∏„ÄÇ</p></blockquote>
<h4 id="Êô∫ËÉΩÊåáÈíàÂíåÂä®ÊÄÅÊï∞ÁªÑ">Êô∫ËÉΩÊåáÈíàÂíåÂä®ÊÄÅÊï∞ÁªÑ
</h4><p>Ê†áÂáÜÂ∫ìÊèê‰æõÂèØ‰ª•ÁÆ°ÁêÜnewÂàÜÈÖçÊï∞ÁªÑÁöÑunique_ptrÁâàÊú¨Ôºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="n">unique_ptr</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">[]</span><span class="o">&gt;</span> <span class="n">up</span><span class="p">(</span><span class="k">new</span> <span class="kt">int</span><span class="p">[</span><span class="mi">10</span><span class="p">]);</span>
</span></span><span class="line"><span class="cl"><span class="n">up</span><span class="p">.</span><span class="n">release</span><span class="p">();</span> <span class="c1">// Ëá™Âä®‰ΩøÁî®delete[]ÈîÄÊØÅÂÖ∂ÊåáÈíà
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Áî±‰∫éunique_ptrÊåáÂêëÁöÑÊòØ‰∏Ä‰∏™Êï∞ÁªÑËÄå‰∏çÊòØÂØπË±°ÔºåÊâÄ‰ª•‰∏çËÉΩ‰ΩøÁî®ÁÇπÂíåÁÆ≠Â§¥ÊàêÂëòËøêÁÆóÁ¨¶„ÄÇÂèØ‰ª•‰ΩøÁî®‰∏ãÊ†áËøêÁÆóÁ¨¶Êù•ËÆøÈóÆÊï∞ÁªÑ‰∏≠ÁöÑÂÖÉÁ¥†Ôºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">for</span><span class="p">(</span><span class="n">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">!=</span><span class="mi">10</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="err">Ôºâ</span>
</span></span><span class="line"><span class="cl">	<span class="n">up</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">i</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<div class="table-wrapper"><table>
  <thead>
      <tr>
          <th style="text-align: center">ÊåáÂêëÊï∞ÁªÑÁöÑunique_ptr</th>
          <th style="text-align: center">Ëß£Èáä</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: center">unique_ptr&lt;T[]&gt; u</td>
          <td style="text-align: center">uÂèØ‰ª•ÊåáÂêë‰∏Ä‰∏™Âä®ÊÄÅÂàÜÈÖçÁöÑÊï∞ÁªÑÔºåÊï∞ÁªÑÂÖÉÁ¥†Á±ªÂûã‰∏∫T</td>
      </tr>
      <tr>
          <td style="text-align: center">unique_ptr&lt;T[]&gt; u(p)</td>
          <td style="text-align: center">uÊåáÂêëÂÜÖÁΩÆÊåáÈíàpÊâÄÊåáÂêëÁöÑÂä®ÊÄÅÂàÜÈÖçÁöÑÊï∞ÁªÑ„ÄÇpÂøÖÈ°ªËÉΩËΩ¨Êç¢‰∏∫Á±ªÂûãT*</td>
      </tr>
      <tr>
          <td style="text-align: center">u[i]</td>
          <td style="text-align: center">ËøîÂõûuÊã•ÊúâÁöÑÊï∞ÁªÑ‰∏≠‰ΩçÁΩÆiÂ§ÑÁöÑÂØπË±°ÔºàuÂøÖÈ°ªÊåáÂêë‰∏Ä‰∏™Êï∞ÁªÑÔºâ</td>
      </tr>
  </tbody>
</table></div>
<p>shared_ptr‰∏çÊîØÊåÅÁõ¥Êé•ÁÆ°ÁêÜÂä®ÊÄÅÊï∞ÁªÑÔºö</p>
<ol>
<li>ÈúÄË¶ÅËá™ÂÆö‰πâÂà†Èô§Âô®</li>
<li>‰∏∫ÂÆö‰πâ‰∏ãÊ†áËøêÁÆóÁ¨¶</li>
</ol>
<p>ÊâÄ‰ª•ÔºåÂ¶ÇÊûú‰ΩøÁî®shared_ptrÁÆ°ÁêÜÂä®ÊÄÅÂÜÖÂ≠òÊï∞ÁªÑÔºåÈúÄË¶ÅËøôÊ†∑Ôºö</p>
<p>ÈáäÊîæÊï∞ÁªÑÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">sp</span><span class="p">(</span><span class="k">new</span> <span class="kt">int</span><span class="p">[</span><span class="mi">10</span><span class="p">],[](</span><span class="kt">int</span> <span class="o">*</span><span class="n">p</span><span class="p">){</span><span class="k">delete</span><span class="p">[]</span> <span class="n">p</span><span class="p">;});</span>
</span></span><span class="line"><span class="cl"><span class="n">sp</span><span class="p">.</span><span class="n">reset</span><span class="p">();</span> <span class="c1">// ‰ΩøÁî®Êèê‰æõÁöÑlambdaÈáäÊîæÊï∞ÁªÑ
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>ËÆøÈóÆÊï∞ÁªÑÂÖÉÁ¥†Ôºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">for</span><span class="p">(</span><span class="n">size_t</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">!=</span><span class="mi">10</span><span class="p">;</span><span class="o">++</span><span class="n">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">*</span><span class="p">(</span><span class="n">sp</span><span class="p">.</span><span class="n">get</span><span class="p">()</span><span class="o">+</span><span class="n">i</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="allocatorÁ±ª">allocatorÁ±ª
</h3><p>newÂ∞ÜÂÜÖÂ≠òÂàÜÈÖçÂíåÂØπË±°ÊûÑÈÄ†ÁªÑÂêàÂú®‰∏ÄËµ∑ÔºådeleteÊìç‰ΩúÂ∞ÜÂØπË±°ÊûêÊûÑÂíåÂÜÖÂ≠òÈáäÊîæÁªÑÂêàÂú®‰∏ÄËµ∑„ÄÇËøôÂ∏¶Êù•‰∏ÄÂÆöÁöÑÂ±ÄÈôêÊÄß„ÄÇÂΩìÂàÜÈÖçÂçï‰∏™ÂØπË±°Êó∂ÔºåÈÄöÂ∏∏Â∏åÊúõ‰∏äËø∞Êìç‰ΩúÂêàÂπ∂Ëµ∑Êù•ÔºåÂõ†‰∏∫Êàë‰ª¨Âá†‰πéËÇØÂÆöÁü•ÈÅìÂØπË±°Êúâ‰ªÄ‰πàÂÄº„ÄÇ‰ΩÜÊòØÂΩìÂàÜÈÖç‰∏ÄÂ§ßÂùóÂÜÖÂ≠òÊó∂ÔºåÊàë‰ª¨ÈÄöÂ∏∏ÈúÄË¶Å‰∫ãÂÖàËÆ°ÂàíÔºåÁ≠âÂà∞ÁúüÊ≠£ÊâßË°åÂØπË±°Êó∂ÊâçÊâßË°åÂàõÂª∫Êìç‰Ωú„ÄÇ</p>
<p>Ê†áÂáÜÂ∫ìÊèê‰æõallocatorÁ±ªÔºåÂÖ∂Â∞ÜÂÜÖÂ≠òÂàÜÈÖçÂíåÂØπË±°ÊûÑÈÄ†ÂàÜÁ¶ªÔºåÈÄöËøáÊèê‰æõ‰∏ÄÁßçÁ±ªÂûãÊÑüÁü•ÁöÑÂÜÖÂ≠òÂàÜÈÖçÊñπÊ≥ïÔºåÂÖ∂ÂàÜÈÖçÁöÑÂÜÖÂ≠òÊòØÂéüÂßãÁöÑ„ÄÅÊú™ÊûÑÈÄ†ÁöÑ„ÄÇ</p>
<p>allocatorÊú¨Ë∫´ÊòØ‰∏Ä‰∏™Ê®°ÊùøÔºåÂΩìÂàÜÈÖçÂÜÖÂ≠òÊó∂ÔºåÂÆÉ‰ºöÊ†πÊçÆÁªôÂÆöÁöÑÂØπË±°Á±ªÂûãÊù•Á°ÆÂÆöÊÅ∞ÂΩìÁöÑÂÜÖÂ≠òÂ§ßÂ∞èÂíåÂØπÈΩê‰ΩçÁΩÆ„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="n">allocator</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">alloc</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">auto</span> <span class="k">const</span> <span class="n">p</span><span class="o">=</span><span class="n">alloc</span><span class="p">.</span><span class="n">allocate</span><span class="p">(</span><span class="n">n</span><span class="p">);</span> <span class="c1">// ÂàÜÈÖçn‰∏™Êú™ÂàùÂßãÂåñÁöÑstring
</span></span></span></code></pre></td></tr></table>
</div>
</div><div class="table-wrapper"><table>
  <thead>
      <tr>
          <th style="text-align: center">Ê†áÂáÜÂ∫ìallocatorÁ±ªÂèäÂÖ∂ÁÆóÊ≥ï</th>
          <th style="text-align: center">Ëß£Èáä</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: center">allocator<T> a</td>
          <td style="text-align: center">ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫aÁöÑallocatorÂØπË±°ÔºåÂÆÉÂèØ‰ª•‰∏∫Á±ªÂûã‰∏∫TÁöÑÂØπË±°ÂàÜÈÖçÂÜÖÂ≠ò</td>
      </tr>
      <tr>
          <td style="text-align: center">a.allocate(n)</td>
          <td style="text-align: center">ÂàÜÈÖç‰∏ÄÊÆµÂéüÂßãÁöÑ„ÄÅÊú™ÊûÑÈÄ†ÁöÑÂÜÖÂ≠òÔºå‰øùÂ≠òn‰∏™Á±ªÂûã‰∏∫TÁöÑÂØπË±°</td>
      </tr>
      <tr>
          <td style="text-align: center">a.deallocate(p,n)</td>
          <td style="text-align: center">ÈáäÊîæ‰ªéT*ÊåáÈíàp‰∏≠Âú∞ÂùÄÂºÄÂßãÁöÑÂÜÖÂ≠òÔºåËøôÂùóÂÜÖÂ≠ò‰øùÂ≠ò‰∫Ün‰∏™Á±ªÂûã‰∏∫TÁöÑÂØπË±°ÔºõpÂøÖÈ°ªÊòØ‰∏Ä‰∏™ÂÖàÂâçÁî±allocateËøîÂõûÁöÑÊåáÈíàÔºå‰∏înÂøÖÈ°ªÊòØpÂàõÂª∫Êó∂ÊâÄË¶ÅÊ±ÇÁöÑÂ§ßÂ∞è„ÄÇÂú®Ë∞ÉÁî®deallocate‰πãÂâçÔºåÁî®Êà∑ÂøÖÈ°ªÂØπÊØè‰∏™Âú®ËøôÂùóÂÜÖÂ≠ò‰∏≠ÂàõÂª∫ÁöÑÂØπË±°Ë∞ÉÁî®destroy</td>
      </tr>
      <tr>
          <td style="text-align: center">a.construct(p,<i>args</i>)</td>
          <td style="text-align: center">pÂøÖÈ°ªÊòØ‰∏Ä‰∏™Á±ªÂûã‰∏∫T*ÁöÑÊåáÈíàÔºåÊåáÂêë‰∏ÄÂùóÂéüÂßãÂÜÖÂ≠òÔºõ<i>arg</i>Ë¢´‰º†ÈÄíÁªôÁ±ªÂûã‰∏∫TÁöÑÊûÑÈÄ†ÂáΩÊï∞ÔºåÁî®Êù•Âú®pÊåáÂêëÁöÑÂÜÖÂ≠ò‰∏≠ÊûÑÈÄ†‰∏Ä‰∏™ÂØπË±°</td>
      </tr>
      <tr>
          <td style="text-align: center">a.destroy(p)</td>
          <td style="text-align: center">p‰∏∫T*Á±ªÂûãÁöÑÊåáÈíàÔºåÊ≠§ÁÆóÊ≥ïÂØπpÊåáÂêëÁöÑÂØπË±°ÊâßË°åÊûêÊûÑÂáΩÊï∞</td>
      </tr>
  </tbody>
</table></div>
<p>allocatorÂàÜÈÖçÁöÑÂÜÖÂ≠òÊòØÊú™ÊûÑÈÄ†ÁöÑÔºåÊåâÈúÄË¶ÅÂú®Ê≠§ÂÜÖÂ≠ò‰∏≠ÊûÑÈÄ†ÂØπË±°„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">auto</span> <span class="n">q</span> <span class="o">=</span> <span class="n">p</span><span class="p">;</span> <span class="c1">// qÊåáÂêëÊúÄÂêéÊûÑÈÄ†ÁöÑÂÖÉÁ¥†‰πãÂêéÁöÑ‰ΩçÁΩÆ
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">alloc</span><span class="p">.</span><span class="n">construct</span><span class="p">(</span><span class="n">q</span><span class="o">++</span><span class="p">);</span> <span class="c1">// *q‰∏∫Á©∫Â≠óÁ¨¶‰∏≤
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">alloc</span><span class="p">.</span><span class="n">construct</span><span class="p">(</span><span class="n">q</span><span class="o">++</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="sc">&#39;c&#39;</span><span class="p">);</span> <span class="c1">// *q‰∏∫cc
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">alloc</span><span class="p">.</span><span class="n">construct</span><span class="p">(</span><span class="n">q</span><span class="o">++</span><span class="p">,</span><span class="s">&#34;hi&#34;</span><span class="p">);</span> <span class="c1">// *q‰∏∫hi
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>ÂØπÊú™ÊûÑÈÄ†ÁöÑÂØπË±°‰ΩøÁî®ÂéüÂßãÂÜÖÂ≠òÊòØÈîôËØØÁöÑÔºÅ</p>
<p>ÂΩìÁî®ÂÆåÂØπË±°ÂêéÔºåÂøÖÈ°ª‰ΩøÁî®ÊØè‰∏™ÊûÑÈÄ†ÁöÑÂÖÉÁ¥†Ë∞ÉÁî®destroyÈîÄÊØÅÂÆÉ‰ª¨„ÄÇÂΩìÂÖÉÁ¥†Ë¢´ÈîÄÊØÅÔºåÈÇ£‰πàÂèØ‰ª•ÈÄâÊã©ÈáçÊñ∞‰ΩøÁî®ËøôÈÉ®ÂàÜÂÜÖÂ≠ò‰πüÂèØ‰ª•ÈÄöËøáË∞ÉÁî®deallocateÈáäÊîæÂÜÖÂ≠ò„ÄÇ</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="k">while</span><span class="p">(</span><span class="n">q</span><span class="o">!=</span><span class="n">p</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">alloc</span><span class="p">.</span><span class="n">destroy</span><span class="p">(</span><span class="o">--</span><span class="n">q</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl"><span class="n">alloc</span><span class="p">.</span><span class="n">deallocate</span><span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="n">n</span><span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Âú®Ê†áÂáÜÂ∫ì‰∏≠Ëøò‰∏∫allocatorÁ±ªÂÆö‰πâ‰∫Ü‰∏§‰∏™‰º¥ÈöèÁÆóÊ≥ïÔºåÂèØ‰ª•Âú®Êú™ÂàùÂßãÂåñÂÜÖÂ≠ò‰∏≠ÂàõÂª∫ÂØπË±°„ÄÇ</p>
<div class="table-wrapper"><table>
  <thead>
      <tr>
          <th style="text-align: center">allocatorÁÆóÊ≥ï</th>
          <th style="text-align: center">Ëß£Èáä</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: center">uninitialized_copy(b,e,b2)</td>
          <td style="text-align: center">‰ªéËø≠‰ª£Âô®bÂíåeÊåáÂá∫ÁöÑËæìÂÖ•ËåÉÂõ¥‰∏≠Êã∑Ë¥ùÂÖÉÁ¥†Âà∞Ëø≠‰ª£Âô®b2ÊåáÂÆöÁöÑÊú™ÊûÑÈÄ†ÁöÑÂéüÂßãÂÜÖÂ≠ò‰∏≠„ÄÇb2ÊåáÂêëÁöÑÂÜÖÂ≠òÂøÖÈ°ªË∂≥Â§üÂ§ßÔºåËÉΩÂÆπÁ∫≥ËæìÂÖ•Â∫èÂàó‰∏≠ÂÖÉÁ¥†ÁöÑÊã∑Ë¥ù</td>
      </tr>
      <tr>
          <td style="text-align: center">uninitialized_copy_n(b,n,b2)</td>
          <td style="text-align: center">‰ªéËø≠‰ª£Âô®bÊåáÂêëÁöÑÂÖÉÁ¥†ÂºÄÂßãÔºåÊã∑Ë¥ùn‰∏™ÂÖÉÁ¥†Âà∞b2ÂºÄÂßãÁöÑÂÜÖÂ≠ò‰∏≠</td>
      </tr>
      <tr>
          <td style="text-align: center">uninitialized_fill(b,e,t)</td>
          <td style="text-align: center">Âú®Ëø≠‰ª£Âô®bÂíåeÊåáÂÆöÁöÑÂéüÂßãÂÜÖÂ≠òËåÉÂõ¥‰∏≠ÂàõÂª∫ÂØπË±°ÔºåÂØπË±°ÁöÑÂÄºÂùá‰∏∫tÁöÑÊã∑Ë¥ù</td>
      </tr>
      <tr>
          <td style="text-align: center">uninitialized_fill_n(b,n,t)</td>
          <td style="text-align: center">‰ªéËø≠‰ª£Âô®bÊåáÂêëÁöÑÂÜÖÂ≠òÂú∞ÂùÄÂºÄÂßãÂàõÂª∫n‰∏™ÂØπË±°„ÄÇbÂøÖÈ°ªÊåáÂêëË∂≥Â§üÂ§ßÁöÑÊú™ÊûÑÈÄ†ÁöÑÂéüÂßãÂÜÖÂ≠òÔºåËÉΩÂ§üÂÆπÁ∫≥ÁªôÂÆöÊï∞ÈáèÁöÑÂØπË±°</td>
      </tr>
  </tbody>
</table></div>
<p>‰æãÂ¶ÇÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="c1">// vi‰∏∫intÁöÑvector
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="n">allocator</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">alloc</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">auto</span> <span class="n">p</span> <span class="o">=</span> <span class="n">alloc</span><span class="p">.</span><span class="n">allocate</span><span class="p">(</span><span class="n">vi</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">*</span><span class="mi">2</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="k">auto</span> <span class="n">q</span> <span class="o">=</span> <span class="n">uninitialized_copy</span><span class="p">(</span><span class="n">vi</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span><span class="n">vi</span><span class="p">.</span><span class="n">end</span><span class="p">(),</span><span class="n">p</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="n">uninitialized_fill_n</span><span class="p">(</span><span class="n">q</span><span class="p">.</span><span class="n">vi</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span><span class="mi">42</span><span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="123-‰ΩøÁî®Ê†áÂáÜÂ∫ìÊñáÊú¨Êü•ËØ¢Á®ãÂ∫è">12.3 ‰ΩøÁî®Ê†áÂáÜÂ∫ìÔºöÊñáÊú¨Êü•ËØ¢Á®ãÂ∫è
</h2><p>ÂÆûÁé∞‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊñáÊú¨Êü•ËØ¢Á®ãÂ∫èÔºöÂÖÅËÆ∏Áî®Êà∑Âú®‰∏Ä‰∏™ÁªôÂÆöÁöÑÊñá‰ª∂‰∏≠Êü•ËØ¢ÂçïËØçÔºåÊü•ËØ¢ÁªìÊûú‰∏∫ÂçïËØçÂú®Êñá‰ª∂‰∏≠Âá∫Áé∞ÁöÑÊ¨°Êï∞ÂèäÂÖ∂ÊâÄÂú®Ë°åÁöÑÂàóË°®„ÄÇ</p>
<p>‰æãÂ¶ÇÔºö</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl"><span class="n">Enter</span> <span class="n">the</span> <span class="n">file</span> <span class="n">name</span> <span class="n">to</span> <span class="n">look</span> <span class="nl">up</span><span class="p">:</span> <span class="n">QuotesInEnglish</span><span class="p">.</span><span class="n">txt</span>
</span></span><span class="line"><span class="cl"><span class="n">Enter</span> <span class="n">word</span> <span class="n">to</span> <span class="n">look</span> <span class="k">for</span><span class="p">,</span> <span class="n">or</span> <span class="sc">&#39;q&#39;</span> <span class="n">to</span> <span class="nl">exit</span><span class="p">:</span> <span class="n">the</span>
</span></span><span class="line"><span class="cl"><span class="s">&#34;the&#34;</span> <span class="n">occurs</span> <span class="mi">17</span> <span class="nl">times</span><span class="p">:</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="n">line</span> <span class="mi">5</span><span class="p">)</span> <span class="mi">2</span><span class="err">„ÄÅ</span><span class="n">Variety</span> <span class="n">is</span> <span class="n">the</span> <span class="n">spice</span> <span class="n">of</span> <span class="n">life</span><span class="p">.</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="n">line</span> <span class="mi">17</span><span class="p">)</span> <span class="mi">5</span><span class="err">„ÄÅ</span><span class="n">Doubt</span> <span class="n">is</span> <span class="n">the</span> <span class="n">key</span> <span class="n">to</span> <span class="n">knowledge</span><span class="p">.</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="n">line</span> <span class="mi">49</span><span class="p">)</span> <span class="mi">13</span><span class="err">„ÄÅ</span><span class="n">Life</span> <span class="n">is</span> <span class="n">the</span> <span class="n">art</span> <span class="n">of</span> <span class="n">drawing</span> <span class="n">sufficient</span> <span class="n">conclusions</span> <span class="n">form</span> <span class="n">insufficient</span> <span class="n">premises</span><span class="p">.</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="n">line</span> <span class="mi">65</span><span class="p">)</span> <span class="mi">17</span><span class="err">„ÄÅ</span><span class="n">Life</span> <span class="n">is</span> <span class="n">a</span> <span class="n">great</span> <span class="n">big</span> <span class="n">canvas</span><span class="p">,</span> <span class="n">and</span> <span class="n">you</span> <span class="n">should</span> <span class="k">throw</span> <span class="n">all</span> <span class="n">the</span> <span class="n">paint</span> <span class="n">on</span> <span class="n">it</span> <span class="n">you</span> <span class="n">can</span><span class="p">.</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="n">line</span> <span class="mi">77</span><span class="p">)</span> <span class="mi">20</span><span class="err">„ÄÅ</span><span class="n">The</span> <span class="n">wealth</span> <span class="n">of</span> <span class="n">the</span> <span class="n">mind</span> <span class="n">is</span> <span class="n">the</span> <span class="n">only</span> <span class="n">wealth</span><span class="p">.</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="n">line</span> <span class="mi">105</span><span class="p">)</span> <span class="mi">27</span><span class="err">„ÄÅ</span><span class="n">Wealth</span> <span class="n">is</span> <span class="n">the</span> <span class="n">test</span> <span class="n">of</span> <span class="n">a</span> <span class="n">man</span><span class="err">&#39;</span><span class="n">s</span> <span class="n">character</span><span class="p">.</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="n">line</span> <span class="mi">109</span><span class="p">)</span> <span class="mi">28</span><span class="err">„ÄÅ</span><span class="n">The</span> <span class="n">best</span> <span class="n">hearts</span> <span class="n">are</span> <span class="n">always</span> <span class="n">the</span> <span class="n">bravest</span><span class="p">.</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="n">line</span> <span class="mi">117</span><span class="p">)</span> <span class="mi">30</span><span class="err">„ÄÅ</span><span class="n">There</span><span class="err">&#39;</span><span class="n">s</span> <span class="n">only</span> <span class="n">one</span> <span class="n">corner</span> <span class="n">of</span> <span class="n">the</span> <span class="n">universe</span> <span class="n">you</span> <span class="n">can</span> <span class="n">be</span> <span class="n">sure</span> <span class="n">of</span> <span class="n">improving</span><span class="p">,</span> <span class="n">and</span> <span class="n">that</span><span class="err">&#39;</span><span class="n">s</span> <span class="n">your</span> <span class="n">own</span> <span class="n">self</span><span class="p">.</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="n">line</span> <span class="mi">125</span><span class="p">)</span> <span class="mi">32</span><span class="err">„ÄÅ</span><span class="n">Death</span> <span class="n">comes</span> <span class="n">to</span> <span class="n">all</span><span class="p">,</span> <span class="n">but</span> <span class="n">great</span> <span class="n">achievements</span> <span class="n">raise</span> <span class="n">a</span> <span class="n">monument</span> <span class="n">which</span> <span class="n">shall</span> <span class="n">endure</span> <span class="n">until</span> <span class="n">the</span> <span class="n">sun</span> <span class="n">grows</span> <span class="n">old</span><span class="p">.</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="n">line</span> <span class="mi">133</span><span class="p">)</span> <span class="mi">34</span><span class="err">„ÄÅ</span><span class="n">Suffering</span> <span class="n">is</span> <span class="n">the</span> <span class="n">most</span> <span class="n">powerful</span> <span class="n">teacher</span> <span class="n">of</span> <span class="n">life</span><span class="p">.</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="n">line</span> <span class="mi">149</span><span class="p">)</span> <span class="mi">38</span><span class="err">„ÄÅ</span><span class="n">A</span> <span class="n">fall</span> <span class="n">into</span> <span class="n">the</span> <span class="n">pit</span><span class="p">,</span> <span class="n">a</span> <span class="n">gain</span> <span class="n">in</span> <span class="n">your</span> <span class="n">wit</span><span class="p">.</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="n">line</span> <span class="mi">153</span><span class="p">)</span> <span class="mi">39</span><span class="err">„ÄÅ</span><span class="n">A</span> <span class="n">guest</span> <span class="n">should</span> <span class="n">suit</span> <span class="n">the</span> <span class="n">convenience</span> <span class="n">of</span> <span class="n">the</span> <span class="n">host</span><span class="p">.</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="n">line</span> <span class="mi">161</span><span class="p">)</span> <span class="mi">41</span><span class="err">„ÄÅ</span><span class="n">All</span> <span class="n">rivers</span> <span class="n">run</span> <span class="n">into</span> <span class="n">the</span> <span class="n">sea</span><span class="p">.</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="n">line</span> <span class="mi">169</span><span class="p">)</span> <span class="mi">43</span><span class="err">„ÄÅ</span><span class="n">An</span> <span class="n">apple</span> <span class="n">a</span> <span class="n">day</span> <span class="n">keeps</span> <span class="n">the</span> <span class="n">doctor</span> <span class="n">away</span><span class="p">.</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="n">line</span> <span class="mi">181</span><span class="p">)</span> <span class="mi">46</span><span class="err">„ÄÅ</span><span class="n">Behind</span> <span class="n">the</span> <span class="n">mountains</span> <span class="n">there</span> <span class="n">are</span> <span class="n">people</span> <span class="n">to</span> <span class="n">be</span> <span class="n">found</span><span class="p">.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Enter</span> <span class="n">word</span> <span class="n">to</span> <span class="n">look</span> <span class="k">for</span><span class="p">,</span> <span class="n">or</span> <span class="sc">&#39;q&#39;</span> <span class="n">to</span> <span class="nl">exit</span><span class="p">:</span> <span class="n">q</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="err">ËøõÁ®ãÂ∑≤ÁªìÊùüÔºåÈÄÄÂá∫‰ª£Á†Å‰∏∫</span> <span class="mi">0</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ÊñáÊú¨Êü•ËØ¢Á®ãÂ∫èÁöÑËÆæËÆ°">ÊñáÊú¨Êü•ËØ¢Á®ãÂ∫èÁöÑËÆæËÆ°
</h3><p>|<a class="link" href="https://github.com/Free-Aaron-Li/Cpp_Study-program/blob/master/Cpp_Primer_Studying/PartII_STL/ChapterTwelve_DynamicMemory/src/main.cpp#L36C9-L36C9"  target="_blank" rel="noopener"
    >Ê∫ê‰ª£Á†Å</a>|</p>
<p><strong>ÂºÄÂèë‰∏Ä‰∏™Á®ãÂ∫èÂú®ËÆæËÆ°‰∏äÁöÑ‰∏ÄÁßçÂ•ΩÊñπÊ≥ïÊòØÂàóÂá∫Á®ãÂ∫èÁöÑÊìç‰Ωú</strong>Ôºå‰∫ÜËß£ÈúÄË¶ÅÂì™‰∫õÊìç‰Ωú‰ºöÂ∏ÆÂä©Êàë‰ª¨ÂàÜÊûêÂá∫ÈúÄË¶Å‰ªÄ‰πàÊ†∑ÁöÑÊï∞ÊçÆÁªìÊûÑ„ÄÇ</p>
<ul>
<li>ÂΩìÁ®ãÂ∫èËØªÂèñËæìÂÖ•Êñá‰ª∂Êó∂ÔºåÂÆÉÂøÖÈ°ª<strong>ËÆ∞‰ΩèÂçïËØçÂá∫Áé∞ÁöÑÊØè‰∏ÄË°å</strong>„ÄÇÂõ†Ê≠§ÔºåÁ®ãÂ∫èÈúÄË¶Å<strong>ÈÄêË°åËØªÂèñ</strong>ËæìÂÖ•Êñá‰ª∂ÔºåÂπ∂Â∞ÜÊØè‰∏ÄË°åÂàÜËß£‰∏∫Áã¨Á´ãÁöÑÂçïËØç„ÄÇ</li>
<li>ÂΩìÁ®ãÂ∫èÁîüÊàêËæìÂá∫Êó∂Ôºå
<ul>
<li>ÂÆÉÂøÖÈ°ªËÉΩÊèêÂèñÊØè‰∏™ÂçïËØçÊâÄ<strong>ÂÖ≥ËÅîÁöÑË°åÂè∑</strong></li>
<li>Ë°åÂè∑ÂøÖÈ°ªÊåâÁÖßÂçáÂ∫èÂá∫Áé∞‰∏î<strong>Êó†ÈáçÂ§ç</strong></li>
<li>ÂÆÉÂøÖÈ°ªËÉΩÊâìÂç∞ÁªôÂÆöË°åÂè∑‰∏≠ÁöÑÊñáÊú¨</li>
</ul>
</li>
</ul>
<p>ÂØπÊ≠§ÔºåÂèØ‰ª•ËøôÊ†∑ÂÆûÁé∞Ôºö</p>
<ul>
<li>‰ΩøÁî®‰∏Ä‰∏™vector<string>Êù•‰øùÂ≠òÊï¥‰∏™ËæìÂÖ•Êñá‰ª∂ÁöÑ‰∏Ä‰ªΩÊã∑Ë¥ù„ÄÇËæìÂÖ•Êñá‰ª∂‰∏≠ÁöÑÊØèË°å‰øùÂ≠ò‰∏∫vector‰∏≠ÁöÑ‰∏Ä‰∏™ÂÖÉÁ¥†„ÄÇÂΩìÈúÄË¶ÅÊâìÂç∞‰∏ÄË°åÊó∂ÔºåÂèØ‰ª•Áî®Ë°åÂè∑‰Ωú‰∏∫‰∏ãÊ†áÊù•ÊèêÂèñË°åÊñáÊú¨„ÄÇ</li>
<li>‰ΩøÁî®‰∏Ä‰∏™istringstreamÊù•Â∞ÜÊØèË°åÂàÜËß£‰∏∫ÂçïËØç</li>
<li>‰ΩøÁî®‰∏Ä‰∏™setÊù•‰øùÂ≠òÊØè‰∏™ÂçïËØçÂú®ËæìÂÖ•ÊñáÊú¨‰∏≠Âá∫Áé∞ÁöÑË°åÂè∑„ÄÇËøô‰øùËØÅ‰∫ÜÊØèË°åÂè™Âá∫Áé∞‰∏ÄÊ¨°‰∏îË°åÂè∑ÊåâÁÖßÂçáÂ∫è‰øùÂ≠ò</li>
<li>‰ΩøÁî®‰∏Ä‰∏™mapÊù•Â∞ÜÊØè‰∏™ÂçïËØç‰∏éÂÆÉÂá∫Áé∞ÁöÑË°åÂè∑setÂÖ≥ËÅîËµ∑Êù•„ÄÇËøôÊ†∑Êàë‰ª¨Â∞±ÂèØ‰ª•Êñπ‰æøÂú∞ÊèêÂèñ‰ªªÊÑèÂçïËØçÁöÑset</li>
<li>‰∏∫‰∫ÜÂÆûÁé∞Á±ª‰πãÈó¥ÂÖ±‰∫´Êï∞ÊçÆÔºå‰ΩøÁî®shared_ptrÊù•ÂèçÊò†Êï∞ÊçÆÁªìÊûÑ‰∏≠ÁöÑÂÖ±‰∫´ÂÖ≥Á≥ª</li>
</ul>
<h2 id="ÊÄªÁªì">ÊÄªÁªì
</h2><p>ÂàÜÈÖçÂä®ÊÄÅÂÜÖÂ≠òÁöÑÂêåÊó∂ÈúÄË¶ÅË¥üË¥£ÈáäÊîæÂÜÖÂ≠òÔºåÂú®ÈáäÊîæÊó∂Â≠òÂú®Á©∫ÊÇ¨ÊåáÈíà„ÄÅÂ§öÊ¨°deleteÁ≠âÈóÆÈ¢ò„ÄÇÊô∫ËÉΩÊåáÈíàÊòØËß£ÂÜ≥Âä®ÊÄÅÂÜÖÂ≠òÁöÑÂ•ΩÊñπÂºèÔºåÂú®‰ΩøÁî®Âä®ÊÄÅÊåáÈíàÊó∂ÔºåÊ†πÊçÆËÆ°Êï∞Âô®‰ºöËá™Âä®ÈáäÊîæÂÜÖÂ≠ò„ÄÇ</p>
<p>Áé∞‰ª£C++Á®ãÂ∫èÂ∫îÂ∞ΩÂèØËÉΩ‰ΩøÁî®Êô∫ËÉΩÊåáÈíà„ÄÇ</p>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/c&#43;&#43;/">C&#43;&#43;</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
        <link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"integrity="sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI&#43;WdtXRGWt2kTvGFasHpSy3SV"crossorigin="anonymous"
            ><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"integrity="sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG&#43;vnGctmUb0ZY0l8"crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"integrity="sha384-&#43;VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4&#43;/RRE05"crossorigin="anonymous"
                defer
                >
            </script><script>
    window.addEventListener("DOMContentLoaded", () => {
	const mainArticleElement = document.querySelector(".main-article");
        renderMathInElement(mainArticleElement, {
            delimiters: [
                { left: "$$", right: "$$", display: true },
                { left: "$", right: "$", display: false },
                { left: "\\(", right: "\\)", display: false },
                { left: "\\[", right: "\\]", display: true }
            ],
            ignoredClasses: ["gist"]
        });})
</script>

    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">Áõ∏ÂÖ≥ÊñáÁ´†</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="has-image">
    <a href="/p/c-%E5%9F%BA%E7%A1%80-%E7%AC%AC%E4%B8%80%E7%AB%A0-%E5%BC%80%E5%A7%8B/">
        
        
            <div class="article-image">
                
                    <img src="https://s3.bmp.ovh/imgs/2024/11/23/f8eb19dce3c8aec6.jpg" loading="lazy" data-key="" data-hash="https://s3.bmp.ovh/imgs/2024/11/23/f8eb19dce3c8aec6.jpg"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">C&#43;&#43; Âü∫Á°ÄÔºö Á¨¨‰∏ÄÁ´† ÂºÄÂßã</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/c-%E5%9F%BA%E7%A1%80-%E7%AC%AC%E4%B8%83%E7%AB%A0-%E7%B1%BB/">
        
        
            <div class="article-image">
                
                    <img src="https://s3.bmp.ovh/imgs/2024/11/23/f8eb19dce3c8aec6.jpg" loading="lazy" data-key="" data-hash="https://s3.bmp.ovh/imgs/2024/11/23/f8eb19dce3c8aec6.jpg"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">C&#43;&#43; Âü∫Á°ÄÔºö Á¨¨‰∏ÉÁ´† Á±ª</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/c-%E5%9F%BA%E7%A1%80-%E7%AC%AC%E4%B8%89%E7%AB%A0-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%90%91%E9%87%8F%E5%92%8C%E6%95%B0%E7%BB%84/">
        
        
            <div class="article-image">
                
                    <img src="https://s3.bmp.ovh/imgs/2024/11/23/f8eb19dce3c8aec6.jpg" loading="lazy" data-key="" data-hash="https://s3.bmp.ovh/imgs/2024/11/23/f8eb19dce3c8aec6.jpg"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">C&#43;&#43; Âü∫Á°ÄÔºö Á¨¨‰∏âÁ´† Â≠óÁ¨¶‰∏≤„ÄÅÂêëÈáèÂíåÊï∞ÁªÑ</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/c-%E5%9F%BA%E7%A1%80-%E7%AC%AC%E4%B9%9D%E7%AB%A0-%E9%A1%BA%E5%BA%8F%E5%AE%B9%E5%99%A8/">
        
        
            <div class="article-image">
                
                    <img src="https://s3.bmp.ovh/imgs/2024/11/23/f8eb19dce3c8aec6.jpg" loading="lazy" data-key="" data-hash="https://s3.bmp.ovh/imgs/2024/11/23/f8eb19dce3c8aec6.jpg"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">C&#43;&#43; Âü∫Á°ÄÔºö Á¨¨‰πùÁ´† È°∫Â∫èÂÆπÂô®</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/c-%E5%9F%BA%E7%A1%80-%E7%AC%AC%E4%BA%8C%E7%AB%A0-%E5%8F%98%E9%87%8F%E5%92%8C%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B/">
        
        
            <div class="article-image">
                
                    <img src="https://s3.bmp.ovh/imgs/2024/11/23/f8eb19dce3c8aec6.jpg" loading="lazy" data-key="" data-hash="https://s3.bmp.ovh/imgs/2024/11/23/f8eb19dce3c8aec6.jpg"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">C&#43;&#43; Âü∫Á°ÄÔºö Á¨¨‰∫åÁ´† ÂèòÈáèÂíåÂü∫Êú¨Á±ªÂûã</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    <script src="https://utteranc.es/client.js" 
        repo="Free-Aaron-Li/utterances"
        issue-term="pathname"
        
        label="comment"
        
        crossorigin="anonymous"
        async
        >
</script>

<style>
    .utterances {
        max-width: unset;
    }
</style>

<script>
    let utterancesLoaded = false;

    function setUtterancesTheme(theme) {
        let utterances = document.querySelector('.utterances iframe');
        if (utterances) {
            utterances.contentWindow.postMessage(
                {
                    type: 'set-theme',
                    theme: `github-${theme}`
                },
                'https://utteranc.es'
            );
        }
    }

    addEventListener('message', event => {
        if (event.origin !== 'https://utteranc.es') return;

        
        utterancesLoaded = true;
        setUtterancesTheme(document.documentElement.dataset.scheme)
    });

    window.addEventListener('onColorSchemeChange', (e) => {
        if (!utterancesLoaded) return;
        setUtterancesTheme(e.detail)
    })
</script>


    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
        2025 Aaron
    </section>
    
    <section class="powerby">
        ‰ΩøÁî® <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> ÊûÑÂª∫ <br />
        ‰∏ªÈ¢ò <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.30.0">Stack</a></b> Áî± <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a> ËÆæËÆ°
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
